if (self.CavalryLogger) { CavalryLogger.start_js(["\/T1TY"]); }

__d("FBPaymentsCustomOptionsExtensionUtil",["FBPaymentsCheckoutConstants"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsCheckoutConstants").Extensions;a={getPreSelectedOptionFromExtensionConfig:function(a){if(!a)return null;var b=a.options,c=a.shouldPreSelect&&b.length>0;if(c){var d=a.preselectedOptionIDs||[];c=b.find(function(a){return a.optionId===d[0]})||b[0]}else c=b[0];return c},isSameOption:function(a,b){return JSON.stringify(a)===JSON.stringify(b)},updateCustomOptionsExtensionConfigInContentConfig:function(a,b){if(!a||!b)return b;var c=b.purchaseInfo.filter(function(a){return a.identifier!==g.CUSTOM_OPTIONS});c.push(a);b.purchaseInfo=c;return b}};e.exports=a}),null);
__d("FBPaymentsCheckoutConfigurationState",["FBPaymentsCheckoutConstants","FBPaymentsCustomOptionsExtensionUtil","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsCheckoutConstants").Extensions;a={contactInfoExtensionConfig:null,contentConfiguration:null,couponCodeExtensionConfig:null,freeTrialExtensionConfig:null,userInfoOptInExtensionConfig:null,frequencySelectorExtensionConfig:null,nationalitySelectorExtensionConfig:null,optionsExtensionConfig:null,paymentMethodExtensionConfig:null,priceSelectorExtensionConfig:null,shippingAddressExtensionConfig:null,taxInfoExtensionConfig:null};c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.updateContentConfiguration=function(a){var b=this.getExtensionConfigFromContentConfig(a,g.CUSTOM_OPTIONS),c=this.getExtensionConfigFromContentConfig(a,g.COUPON_CODE),d=this.getExtensionConfigFromContentConfig(a,g.CONTACT_INFO),e=this.getExtensionConfigFromContentConfig(a,g.FREE_TRIAL),f=this.getExtensionConfigFromContentConfig(a,g.USER_INFO_OPT_IN),h=this.getExtensionConfigFromContentConfig(a,g.SHIPPING_ADDRESS),i=this.getExtensionConfigFromContentConfig(a,g.PAYMENT_METHOD),j=this.getExtensionConfigFromContentConfig(a,g.PRICE_SELECTOR),k=this.getExtensionConfigFromContentConfig(a,g.FREQUENCY_SELECTOR),l=this.getExtensionConfigFromContentConfig(a,g.NATIONALITY_SELECTOR),m=this.getExtensionConfigFromContentConfig(a,g.TAX_INFO);return this.set("contentConfiguration",a).set("optionsExtensionConfig",b).set("couponCodeExtensionConfig",c).set("contactInfoExtensionConfig",d).set("freeTrialExtensionConfig",e).set("userInfoOptInExtensionConfig",f).set("shippingAddressExtensionConfig",h).set("paymentMethodExtensionConfig",i).set("priceSelectorExtensionConfig",j).set("frequencySelectorExtensionConfig",k).set("nationalitySelectorExtensionConfig",l).set("taxInfoExtensionConfig",m)};d.maybeUpdateConfirmationConfiguration=function(a){var b=this.contentConfiguration;if(!a||!b)return this;b.confirmationConfiguration=a;return this.set("contentConfiguration",b)};d.updateOptionsExtensionConfig=function(a){var c=b("FBPaymentsCustomOptionsExtensionUtil").updateCustomOptionsExtensionConfigInContentConfig(a,this.contentConfiguration);return this.set("contentConfiguration",c).set("optionsExtensionConfig",a)};d.getExtensionConfigFromContentConfig=function(a,b){return!a?null:a.purchaseInfo.find(function(a){return a.identifier===b})};return c}(b("immutable").Record(a));e.exports=c}),null);
__d("FBPaymentsCheckoutConfigurationStore",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationState","FBPaymentsCustomOptionsActions","FBPaymentsDispatcher","FluxReduceStore"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(d,a);var c=d.prototype;c.getInitialState=function(){return new(b("FBPaymentsCheckoutConfigurationState"))()};function d(){return a.call(this,b("FBPaymentsDispatcher"))||this}c.reduce=function(a,c){var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.INITIALIZE_CHECKOUT:return d.shouldLoadContentConfiguration?a.updateContentConfiguration(d.contentConfiguration):a;case b("FBPaymentsCheckoutActions").types.UPDATE_CHECKOUT_INFO:return a.updateContentConfiguration(d.contentConfiguration);case b("FBPaymentsCheckoutActions").types.UPDATE_CONTENT_CONFIGURATION:return a.updateContentConfiguration(d);case b("FBPaymentsCheckoutActions").types.PAYMENT_PROCESSING_CALLBACK_DONE:return a.maybeUpdateConfirmationConfiguration(d.confirmationConfiguration);case b("FBPaymentsCheckoutActions").types.EXTENSION_UPDATE:return this.$FBPaymentsCheckoutConfigurationStore1(a,d);case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();default:return a}};c.$FBPaymentsCheckoutConfigurationStore1=function(a,c){var d=c.updateData;switch(c.extensionActionType){case b("FBPaymentsCustomOptionsActions").types.SAVE_NEW_CUSTOM_OPTION:return a.updateOptionsExtensionConfig(d.newOptionsExtensionConfig)}return a};c.getContentConfiguration=function(){return this.getState().contentConfiguration};c.getCustomOptionsExtensionConfig=function(){return this.getState().optionsExtensionConfig};c.getCouponCodeExtensionConfig=function(){return this.getState().couponCodeExtensionConfig};c.getContactInfoExtensionConfig=function(){return this.getState().contactInfoExtensionConfig};c.getShippingAddressExtensionConfig=function(){return this.getState().shippingAddressExtensionConfig};c.getPaymentMethodExtensionConfig=function(){return this.getState().paymentMethodExtensionConfig};c.getFreeTrialExtensionConfig=function(){return this.getState().freeTrialExtensionConfig};c.getUserInfoOptInExtensionConfig=function(){return this.getState().userInfoOptInExtensionConfig};c.getPriceSelectorExtensionConfig=function(){return this.getState().priceSelectorExtensionConfig};c.getFrequencySelectorExtensionConfig=function(){return this.getState().frequencySelectorExtensionConfig};c.getNationalitySelectorExtensionConfig=function(){return this.getState().nationalitySelectorExtensionConfig};c.getTaxInfoExtensionConfig=function(){return this.getState().taxInfoExtensionConfig};return d}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("FBPaymentsCheckoutExtensionStore",["FBPaymentsLinkHelper","FluxReduceStore","abstractMethod"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.maybeRestoreFromCurrentURI=function(a){var c=b("FBPaymentsLinkHelper").getCurrentURI();c=c.getQueryData();return this.maybeRestoreFromQueryData(a,c)};d.maybeRestoreFromQueryData=function(a,c){return b("abstractMethod")("FBPaymentsCheckoutExtensionStore","maybeRestoreFromQueryData")};d.getCurrentURIQueryData=function(){var a=b("FBPaymentsLinkHelper").getCurrentURI();return a.getQueryData()};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=a}),null);
__d("FBPaymentsTaxInfoExtensionState",["immutable"],(function(a,b,c,d,e,f){"use strict";a={preFilledPaymentAccountTaxInfo:null,shouldCollectTaxID:!1,taxID:null};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FBPaymentsTaxInfoExtensionStore",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCheckoutExtensionStore","FBPaymentsDispatcher","FBPaymentsTaxInfoActions","FBPaymentsTaxInfoExtensionState"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsCheckoutConstants").Extensions,h=b("FBPaymentsCheckoutConstants").RestoreKey;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("FBPaymentsDispatcher"))||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBPaymentsTaxInfoExtensionState"))()};d.isInitialized=function(){return!0};d.getExtensionName=function(){return g.TAX_INFO};d.hasInitializationError=function(){return!1};d.isReady=function(){var a=this.getState();return a.shouldCollectTaxID&&!!a.taxID};d.getData=function(){var a=this.getState();return{preFilledPaymentAccountTaxInfo:a.preFilledPaymentAccountTaxInfo,taxID:a.taxID}};d.getUserFacingError=function(){return null};d.getPartialCheckoutRestoreData=function(){var a,b=this.getData();b=(a={},a[h.TAX_ID]=b.taxID,a);return b};d.needsPrePaymentVerification=function(){return!1};d.reduce=function(a,c){var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsCheckoutActions").types.UPDATE_CHECKOUT_INFO:return this.$FBPaymentsTaxInfoExtensionStore1(a);case b("FBPaymentsCheckoutActions").types.EXTENSION_UPDATE:return d.extensionName===this.getExtensionName()?this.$FBPaymentsTaxInfoExtensionStore2(a,d):a;default:return a}};d.$FBPaymentsTaxInfoExtensionStore2=function(a,c){var d=c.updateData;switch(c.extensionActionType){case b("FBPaymentsTaxInfoActions").types.TAX_ID_UPDATED:return a.set("taxID",d.taxID);case b("FBPaymentsTaxInfoActions").types.TAX_ID_LOADED:return a.set("preFilledPaymentAccountTaxInfo",d.preFilledPaymentAccountTaxInfo)}return a};d.$FBPaymentsTaxInfoExtensionStore1=function(a){var c,d=b("FBPaymentsCheckoutConfigurationStore").getTaxInfoExtensionConfig();c=d==null?void 0:(c=d.taxInfoCollectionMap)==null?void 0:c.tax_id;d=d==null?void 0:d.paymentAccountTaxInfo;return a.set("shouldCollectTaxID",c).set("preFilledPaymentAccountTaxInfo",d)};return c}(b("FBPaymentsCheckoutExtensionStore"));e.exports=new a()}),null);
__d("FBPaymentsTaxInfoExtension",["FBPaymentsTaxInfoActions","FBPaymentsTaxInfoExtensionStore","FluxContainer","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=function(d){babelHelpers.inheritsLoose(c,d);function c(){var a,b;for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];return(a=b=d.call.apply(d,[this].concat(e))||this,b.state={preFilledPaymentAccountTaxInfo:null,shouldCollectTaxID:!1,taxID:null},a)||babelHelpers.assertThisInitialized(b)}c.getStores=function(){return[b("FBPaymentsTaxInfoExtensionStore")]};c.calculateState=function(){var a=b("FBPaymentsTaxInfoExtensionStore").getState();a={preFilledPaymentAccountTaxInfo:a.preFilledPaymentAccountTaxInfo,shouldCollectTaxID:a.shouldCollectTaxID,taxID:a.taxID};return a};var e=c.prototype;e.handleInputChange=function(a,c,d){b("FBPaymentsTaxInfoActions").taxIDUpdated({taxID:c})};e.render=function(){return g.jsx(a,babelHelpers["extends"]({},this.state,{handleInputChange:this.handleInputChange}))};return c}(g.PureComponent);return b("FluxContainer").create(c)}e.exports={create:a}}),null);
__d("FBPaymentsTaxInfoViewV2Base.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getPlaceholderText=function(){var a=g._("Enter Tax ID");return a};c.shouldCollectTaxID=function(){return this.props.shouldCollectTaxID};return b}(a.Component);e.exports=c}),null);
__d("FBPaymentsUserInfoOptInExtensionState",["immutable"],(function(a,b,c,d,e,f){"use strict";a={userInfoOptInExtensionConfig:null,isInitialized:!1,optIn:!1,disclaimerText:null,privacyPolicyText:null,privacyPolicyRanges:null};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FBPaymentsUserInfoOptInExtensionStore",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCheckoutExtensionStore","FBPaymentsDispatcher","FBPaymentsUserInfoOptInActions","FBPaymentsUserInfoOptInExtensionState","isEmpty"],(function(a,b,c,d,e,f){"use strict";var g,h=b("FBPaymentsCheckoutConstants").Extensions,i=b("FBPaymentsUserInfoOptInActions").types;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBPaymentsUserInfoOptInExtensionState"))()};d.getExtensionName=function(){return h.USER_INFO_OPT_IN};d.reduce=function(a,c){var d=c.data;switch(c.type){case i.OPT_IN_TOGGLED:return a.set("optIn",d.optIn);case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsCheckoutActions").types.INITIALIZE_CHECKOUT:case b("FBPaymentsCheckoutActions").types.UPDATE_CONTENT_CONFIGURATION:case b("FBPaymentsCheckoutActions").types.UPDATE_CHECKOUT_INFO:b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);c=b("FBPaymentsCheckoutConfigurationStore").getUserInfoOptInExtensionConfig();a=a.set("isInitialized",!!c);a=a.set("userInfoOptInExtensionConfig",c);d=!!(c==null?void 0:c.optIn);var e=c==null?void 0:c.disclaimer;c=c==null?void 0:c.privacyPolicy;a=a.set("optIn",d).set("disclaimerText",e==null?void 0:e.text).set("privacyPolicyText",c==null?void 0:c.text).set("privacyPolicyRanges",c==null?void 0:c.ranges);return a;default:return a}};d.isInitialized=function(){return this.getState().isInitialized};d.hasInitializationError=function(){return!1};d.isReady=function(){return!(g||(g=b("isEmpty")))(this.getState().userInfoOptInExtensionConfig)};d.getData=function(){var a=this.getState();return{optIn:a.optIn}};d.getUserFacingError=function(){return null};d.getPartialCheckoutRestoreData=function(){return{}};d.needsPrePaymentVerification=function(){return!1};return c}(b("FBPaymentsCheckoutExtensionStore"));e.exports=new a(b("FBPaymentsDispatcher"))}),null);
__d("FBPaymentsUserInfoOptInExtension",["FBPaymentsLoggerConstants","FBPaymentsUserInfoOptInActions","FBPaymentsUserInfoOptInExtensionStore","FluxContainer","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("FBPaymentsLoggerConstants").LoggerFlowStep,i=b("FBPaymentsLoggerConstants").LoggerEvent;function a(a){var c=function(d){babelHelpers.inheritsLoose(c,d);function c(){var a,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=c=d.call.apply(d,[this].concat(f))||this,c.onToggleChange=function(a){a===!0?c.props.logger.setFlowStep(h.EMAIL_OPT_IN).setEventName(i.CHECK).logVital():c.props.logger.setFlowStep(h.EMAIL_OPT_IN).setEventName(i.UNCHECK).logVital(),b("FBPaymentsUserInfoOptInActions").toggleOptIn({optIn:a})},a)||babelHelpers.assertThisInitialized(c)}var e=c.prototype;e.componentDidMount=function(){this.props.logger.setFlowStep(h.EMAIL_OPT_IN).setEventName(i.DISPLAY).log()};c.getStores=function(){return[b("FBPaymentsUserInfoOptInExtensionStore")]};c.calculateState=function(){var a=b("FBPaymentsUserInfoOptInExtensionStore").getState();a={optIn:a.optIn,disclaimerText:a.disclaimerText,privacyPolicyText:a.privacyPolicyText,privacyPolicyRanges:a.privacyPolicyRanges};return a};e.render=function(){return g.jsx(a,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,onChange:this.onToggleChange}))};return c}(g.PureComponent);return b("FluxContainer").create(c)}e.exports={create:a}}),null);
__d("FBPaymentsUserInfoOptInViewV2Base.react",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a.PureComponent);e.exports=c}),null);
__d("FBPaymentsCheckoutStrings",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";b("React");a={getCheckoutInitializationErrorMessage:function(){return g._("We're having trouble loading this page. Please try refreshing the page or come back later.")},getNewAffirmPayActionTitle:function(){return g._("Continue with Affirm")},getNewPayPalPayActionTitle:function(){return g._("Continue With PayPal")},getExitCheckoutConfirmDialogTitle:function(){return g._("Exit Checkout?")},getExitCheckoutConfirmDialogDescription:function(){return g._("If you exit, you'll lose any progress you've made so far.")},getExitCheckoutConfirmDialogCancelButtonLabel:function(){return g._("Cancel")},getExitCheckoutConfirmDialogCancelButtonAllCapsLabel:function(){return g._("CANCEL")},getExitCheckoutConfirmDialogConfirmButtonLabel:function(){return g._("Exit")},getAltPayCancelledDialogButtonLabel:function(){return g._("OK")},getExitCheckoutConfirmDialogConfirmButtonAllCapsLabel:function(){return g._("EXIT")},getDonationLargeAmountConfirmDialogTitle:function(){return g._("Confirm Your Donation")},getDonationLargeAmountConfirmDialogDescription:function(a,b){return g._("Do you want to donate {formatted_amount} to {fundraiser_title}?",[g._param("formatted_amount",a),g._param("fundraiser_title",b)])},getDonationLargeAmountConfirmDialogCancelButtonLabel:function(){return g._("Cancel")},getDonationLargeAmountConfirmDialogConfirmButtonLabel:function(){return g._("Donate")},getBackloadedPINCreationTitle:function(){return g._("Add a PIN to protect your payments.")},getBackloadedPINCreationDescription:function(){return g._("Once created, you'll enter your PIN as a security check on some payments.")},getBackloadedPINCreationButtonLabel:function(){return g._("Create PIN")}};e.exports=a}),null);
__d("FBPaymentsFreeTrialExtensionUtil",["fbt","BillingAgreementType"],(function(a,b,c,d,e,f,g){"use strict";a={getFreeTrialCheckoutDialogTitle:function(a,c){c=c==="mor_sotto";if(c)return g._("Subscription");else if(a){c=a.trialPeriod;a=a.trialFrequency;var d,e;switch(c){case 1:e=g._("One");break;default:break}switch(a){case b("BillingAgreementType").YEARLY:d=g._({"*":"{number of periods} Years Subscription Trial","_1":"{number of periods} Year Subscription Trial"},[g._param("number of periods",e),g._plural(c)]);break;case b("BillingAgreementType").MONTHLY:d=g._({"*":"{number of periods} Months Subscription Trial","_1":"{number of periods} Month Subscription Trial"},[g._param("number of periods",e),g._plural(c)]);break;case b("BillingAgreementType").WEEKLY:d=g._({"*":"{number of periods} Weeks Subscription Trial","_1":"{number of periods} Week Subscription Trial"},[g._param("number of periods",e),g._plural(c)]);break;case b("BillingAgreementType").DAILY:d=g._({"*":"{number of periods} Days Subscription Trial","_1":"{number of periods} Day Subscription Trial"},[g._param("number of periods",e),g._plural(c)]);break;default:break}return d}return null},getIsUsingFreeTrial:function(a){return!!a},getFreeTrialPrice:function(a){return{amount:"0",currency:a}}};e.exports=a}),null);
__d("FBPaymentsShippingAddressExtensionUtil",[],(function(a,b,c,d,e,f){"use strict";a={generateExtraDataFromNewAddress:function(a){var b;return{shipping_name:{length:a==null?void 0:(b=a.care_of)==null?void 0:b.length},shipping_address_1:{length:a==null?void 0:(b=a.street1)==null?void 0:b.length},shipping_address_2:{length:a==null?void 0:(b=a.street2)==null?void 0:b.length},shipping_city:{length:a==null?void 0:(b=a.city)==null?void 0:b.length},shipping_state:{length:a==null?void 0:(b=a.state)==null?void 0:b.length},shipping_zip:{length:a==null?void 0:(b=a.zip)==null?void 0:b.length},shipping_country:{length:a==null?void 0:(b=a.country)==null?void 0:b.length}}}};e.exports=a}),null);
__d("FBPaymentsPayPalBillingAgreementTypes",[],(function(a,b,c,d,e,f){"use strict";a={MIB:"mib",CIB:"cib"};e.exports=a}),null);
__d("FBPaymentsCheckoutInfoParser",["FBLogger","FBPaymentsCheckoutConstants","FBPaymentsPriceSelectorConfiguration","immutable"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("FBPaymentsCheckoutConstants")).CollectedDataKey,h=a.ContactInfoTypes,i=a.CustomExtensionKeys,j=a.Extensions;c=b("immutable").Map;var k=b("immutable").Set,l=c([["CONTACT_INFO",j.CONTACT_INFO],["SHIPPING_ADDRESSES",j.SHIPPING_ADDRESS],["DELIVERY_OPTIONS",j.CUSTOM_OPTIONS],["PAYMENT_CREDENTIAL_OPTIONS",j.PAYMENT_METHOD],["COUPON_CODES",j.COUPON_CODE],["FREE_TRIAL",j.FREE_TRIAL],["PRICE_SELECTOR",j.PRICE_SELECTOR],["FREQUENCY_SELECTOR",j.FREQUENCY_SELECTOR],["NATIONALITY_SELECTOR",j.NATIONALITY_SELECTOR],["CUSTOM_EXTENSION",j.CUSTOM_EXTENSION],["USER_INFO_OPT_IN",j.USER_INFO_OPT_IN],["TAX_INFO",j.TAX_INFO]]);d={parse:function(a,b,c){return this._parseCheckoutInfo(a,b,c)},_parseCheckoutInfo:function(a,b,c){var d;d=(d=b==null?void 0:b.purchaseInfo)!=null?d:[];return{contentConfiguration:{checkoutClosedCallback:b==null?void 0:b.checkoutClosedCallback,confirmationConfiguration:b==null?void 0:b.confirmationConfiguration,entity:this._parseEntity(a),items:b==null?void 0:b.items,newPriceTable:this._parsePriceTable(a),payActionContent:this._parsePayActionContent(a),purchaseInfo:this._parsePurchaseInfo(a,d,c),taxID:a.tax_id,taxInfo:this._getTaxInfo(a)},receiverInfo:this._parseReceiverInfo(a),paymentSessionID:a.payment_session_id,termsAndPolicies:this._parseTermsAndPolicies(a),extensionsToTriggerUpdateCheckout:this._getExtensionsToTriggerUpdateCheckout(a),shouldCollectAddressUpfront:a.screen_order.includes("UPFRONT_SHIPPING_ADDRESS"),banner:this._getBanner(a)}},_parsePurchaseInfo:function(a,b,c){var d=this,e=this._getComponentSharedData(a);c=a.checkout_screen_components.filter(function(a){return l.has(a.component_type)}).map(function(a){return d._parsePurchaseInfoExtension(a,b,e)});return c},_parsePurchaseInfoExtension:function(a,c,d){var e=a.component_type,f=l.get(e),i=c.find(function(a){return a.identifier==f}),k=a==null?void 0:a.custom_extension_type,m=this._getCustomExtensionKeyFromServerType(k);k=c.find(function(a){return a.identifier===j.CUSTOM_EXTENSION&&a.extensionKey===m});switch(e){case"PAYMENT_CREDENTIAL_OPTIONS":return babelHelpers["extends"]({},i,{identifier:f,allowChangeBillingCountry:!0,paymentMethodData:babelHelpers["extends"]({},a,d)});case"DELIVERY_OPTIONS":c=a.available_delivery_options.map(function(a){var b;return{optionTitle:(b=a.title)!=null?b:a.name,optionId:a.id,optionPrice:{amount:a.price.amount,currency:a.price.currency},optionDescription:a.description}});d=a.delivery_options_error!=null?{errorMessageTitle:a.delivery_options_error.error_message,errorMessageSubtitle:a.delivery_options_error.error_message_subtitle}:null;return babelHelpers["extends"]({},i,{identifier:f,collectedDataKey:g.SHIPPING_OPTION,error:d,options:c,preselectedOptionIDs:a.selected_delivery_option_id});case"SHIPPING_ADDRESSES":return babelHelpers["extends"]({},i,{identifier:f,shippingAddressData:a});case"CONTACT_INFO":d=[];a.phones&&d.push(h.PHONE);a.name&&d.push(h.NAME);a.emails&&d.push(h.EMAIL);return babelHelpers["extends"]({},i,{identifier:f,contactInfoData:a,contactInfoTypes:d});case"USER_INFO_OPT_IN":return babelHelpers["extends"]({},i,{identifier:j.USER_INFO_OPT_IN,optIn:a.opt_in,disclaimer:a.disclaimer,privacyPolicy:a.privacy_policy});case"COUPON_CODES":c=a.coupons[0];return babelHelpers["extends"]({},i,{identifier:j.COUPON_CODE,message:c.inline_message,couponValid:c.coupon_valid,placeholderText:c.placeholder_text,prefilledContent:c.coupon_valid?c.coupon_code:null});case"FREE_TRIAL":return{identifier:j.FREE_TRIAL,formattedDescription:a.formatted_description,nextBillTime:a.next_bill_time,subscriptionFrequency:a.subscription_frequency,subscriptionPrice:{amount:a.subscription_price.amount,currency:a.subscription_price.currency},trialFrequency:a.trial_frequency,trialPeriod:a.trial_period,trialType:a.trial_type};case"PRICE_SELECTOR":d=b("FBPaymentsPriceSelectorConfiguration").fromJS(a);return{identifier:j.PRICE_SELECTOR,priceSelectorConfigData:d};case"FREQUENCY_SELECTOR":return{identifier:j.FREQUENCY_SELECTOR,frequencyOptions:a.frequency_selector_configs,showDAFDisclaimer:a.show_daf_disclaimer};case"NATIONALITY_SELECTOR":return{identifier:j.NATIONALITY_SELECTOR,nationalityOptions:a.nationality_selector_configs};case"CUSTOM_EXTENSION":return babelHelpers["extends"]({},k,{identifier:j.CUSTOM_EXTENSION});case"TAX_INFO":return{identifier:j.TAX_INFO,taxInfoCollectionMap:a.tax_info_collection_map,paymentAccountTaxInfo:a.payment_account_tax_info};default:b("FBLogger")("purchase_experience").warn("Unsupported purchase info extension: %s",e);return null}},_parsePriceTable:function(a){a=a.checkout_screen_components.find(function(a){return a.component_type==="PRICE_TABLE"});if(!a)return null;var b=a.price_subtables;b=b?b.map(this._parsePriceSubtable,this):[];var c=a==null?void 0:a.show_tax_disclaimer;return{priceSubtables:b,totalPrice:this._parsePriceItem(a.total_price),showTaxDisclaimer:!!c}},_parsePriceSubtable:function(a){a=a.price_lists.map(this._parsePriceItem,this);return{priceLists:a}},_parsePriceItem:function(a){return{item:this._parseItem(a.item),label:a.label,price:a.price,displayPrice:a.display_price,userFacingReason:a.user_facing_reason}},_parseItem:function(a){return!a?null:{title:a.title,subtitle:a.subtitle,subsubtitle:a.subsubtitle,itemImageUrl:a.item_image_url}},_parseEntity:function(a){var b;a=a.checkout_screen_components.find(function(a){return a.component_type==="ENTITY"});return a==null?null:{participant:{title:a.title,subtitle:a.subtitle,imageURL:a.image_url},description:a.description,descriptionWithEntity:Boolean(a==null?void 0:a.description_with_entity)?{text:a==null?void 0:(b=a.description_with_entity)==null?void 0:b.text,ranges:a==null?void 0:(b=a.description_with_entity)==null?void 0:b.ranges}:null}},_parseReceiverInfo:function(a){a=a.receiver_info;a=(a=a==null?void 0:a.onboarded_managed_merchant_platform)!=null?a:null;a!=null&&(a=a.toLowerCase());return{onboardedManagedMerchantPlatform:a}},_parseTermsAndPolicies:function(a){a=a.checkout_screen_components.find(function(a){return a.component_type==="TERMS_AND_POLICIES"});a={inline_view:a.inline_view,expanded_view:a.expanded_view};return a},_getExtensionsToTriggerUpdateCheckout:function(a){return k(a.checkout_screen_components.filter(function(a){return a.refresh_on_change}).map(function(a){return l.get(a.component_type)}))},_getComponentSharedData:function(a){var b=a.checkout_screen_components.find(function(a){return a.component_type==="SHIPPING_ADDRESSES"});return{addressFormConfig:b==null?void 0:b.address_form_config,userInfo:a.user_info}},_parsePayActionContent:function(a){a=a.checkout_screen_components.find(function(a){return a.component_type==="PAY_BUTTON"});return{actionTitle:a.default_label,customLabelsForCredentials:a.custom_label_for_selected_credential}},_getCustomExtensionKeyFromServerType:function(a){switch(a){case"CREATOR_SEEDING_BANNER":return i.CREATOR_SEEDING_BANNER;case"EMAIL_SHARING":return i.EMAIL_SHARING_CHECKBOX;case"GIFT_AID":return i.GIFT_AID_CHECKBOX;case"MATCH_BANNER":return i.MATCH_BANNER;case"MONTHLY_DONATION_BANNER":return i.MONTHLY_DONATION_BANNER;case"PRIVACY_SELECTOR":return i.PRIVACY_SELECTOR;case"PAYMENT_BREAKDOWN_SECTION":return i.PAYMENT_BREAKDOWN_SECTION;case"SHOP_ORDER_SUMMARY":return i.SHOP_ORDER_SUMMARY;default:return null}},_getBanner:function(a){a=(a==null?void 0:a.checkout_screen_components)||[];return a.find(function(a){return a.component_type==="BANNER"})},_getTaxInfo:function(a){a=(a==null?void 0:a.checkout_screen_components)||[];return a.find(function(a){return a.component_type==="TAX_INFO"})}};e.exports=d}),null);
__d("FBPaymentsCheckoutLoggerStore",["FBPaymentsCheckoutActions","FBPaymentsContactInfoActions","FBPaymentsDispatcher","FBPaymentsLoggerConstants","FBPaymentsPaymentMethodActions","FBPaymentsUniversalErrorUtils","FluxReduceStore","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsLoggerConstants").LoggerFlowStep,h=b("FBPaymentsLoggerConstants").LoggerEvent,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({logger:null}));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("FBPaymentsDispatcher"))||this}var d=c.prototype;d.getInitialState=function(){return new i()};d.reduce=function(a,c){var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsCheckoutActions").types.INITIALIZE_CHECKOUT:return a.set("logger",d.logger);case b("FBPaymentsPaymentMethodActions").types.PAYMENT_METHODS_LOADED:this.$FBPaymentsCheckoutLoggerStore1(a,g.PAYMENT_METHOD_FETCH);return a;case b("FBPaymentsPaymentMethodActions").types.PAYMENT_METHODS_ERROR:this.$FBPaymentsCheckoutLoggerStore2(a,g.PAYMENT_METHOD_FETCH,d.error);return a;case b("FBPaymentsContactInfoActions").types.CONTACT_EMAILS_LOADED:this.$FBPaymentsCheckoutLoggerStore1(a,g.EMAIL_FETCH);return a;case b("FBPaymentsContactInfoActions").types.CONTACT_EMAILS_ERROR:this.$FBPaymentsCheckoutLoggerStore2(a,g.EMAIL_FETCH,d.error);return a;case b("FBPaymentsContactInfoActions").types.CONTACT_PHONE_NUMBERS_LOADED:this.$FBPaymentsCheckoutLoggerStore1(a,g.PHONE_FETCH);return a;case b("FBPaymentsContactInfoActions").types.CONTACT_PHONE_NUMBERS_ERROR:this.$FBPaymentsCheckoutLoggerStore2(a,g.PHONE_FETCH,d.error);return a;case b("FBPaymentsContactInfoActions").types.MAILING_ADDRESSES_LOADED:this.$FBPaymentsCheckoutLoggerStore1(a,g.SHIPPING_ADDRESS_FETCH);return a;case b("FBPaymentsContactInfoActions").types.MAILING_ADDRESSES_ERROR:this.$FBPaymentsCheckoutLoggerStore2(a,g.SHIPPING_ADDRESS_FETCH,d.error);return a;default:return a}};d.$FBPaymentsCheckoutLoggerStore1=function(a,b){a=a.logger;a&&a.setFlowStep(b).setEventName(h.SUCCESS).log()};d.$FBPaymentsCheckoutLoggerStore2=function(a,c,d){a=a.logger;if(a){var e=b("FBPaymentsUniversalErrorUtils").getUserFacingErrorMessage(d);a.setFlowStep(c).setEventName(h.FAIL).setErrorMessage(d==null?void 0:d.serverErrorMessage).setExceptionClass(d==null?void 0:d.exceptionClass).setUserFacingMessage(e).log()}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("FBPaymentsCheckoutV2StoreState",["FBPaymentsCheckoutStep","immutable"],(function(a,b,c,d,e,f){"use strict";var g,h=(a=b("immutable")).List;c=a.Map;d=a.OrderedMap;f=a.OrderedSet;var i=a.Set,j=h([(g=b("FBPaymentsCheckoutStep")).INITIALIZING,g.NUX,g.PSD_AGREEMENT_NUX,g.ADDRESS_COLLECT]);g={activeExtension:null,activeExtensionForVerification:null,autoPayOnReady:!1,buttonPrice:null,cachedRequestData:null,checkoutErrors:{},checkoutRestoreData:{},checkoutStep:g.INITIALIZING,cmpi3DSResult:null,contactInfoData:null,contentConfiguration:null,disableUpfrontAddressCollect:!1,extensionDataMap:c(),extensionDataPreparerMap:c(),extensionFlagsMap:d(),extensionsToTriggerUpdateCheckout:i(),extensionsToVerify:f(),extensionUserFacingErrorMap:c(),freeTrialData:null,frequencySelectorData:null,isAddressNUX:!1,isCheckoutDialogShown:!0,isUpdatingCheckout:!1,isRedirectedFromRazorPay:!1,isSecondaryPaymentMethodChecked:!1,linearCheckoutSteps:j,nationalitySelectorData:null,onGoingAPICalls:i(),paymentMethodData:null,paymentProcessingMessage:"",paymentSessionID:null,priceSelectorData:null,receiverInfo:null,researchSurvey:null,shouldEnablePaypal:!1,showContactSupportFlow:!1,showExitCheckoutConfirmDialog:!1,showDonationLargeAmountConfirmDialog:!1,showHardErrorOnExtensions:{showError:!1,extensionsNotReady:h()},showVerificationFlow:!1,termsAndPolicies:null,termsAndPoliciesError:!1,updateCheckoutLoadError:null,altPayCancelledError:null,optInData:null,isPINCreationNeeded:!0,banner:null,checkoutInfoGraphQLResponse:null,paymentSecurity:null,taxInfoData:null};var k={hasInitializationError:!1,isInitialized:!1,isReady:!1,needsVerification:!1};d=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.mergeCheckoutRestoreData=function(a){var b=this.checkoutRestoreData;b=babelHelpers["extends"]({},b,a);return this.set("checkoutRestoreData",b)};d.$FBPaymentsCheckoutV2StoreState1=function(){return this.isCheckoutInitialized(this.contentConfiguration)};d.isCheckoutInitialized=function(a){if(!a)return!1;if(!this.termsAndPolicies)return!1;for(var a=this.extensionFlagsMap.values(),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(!d.isInitialized)return!1}return!0};d.areAllExtensionsReady=function(){return this.$FBPaymentsCheckoutV2StoreState2(this.extensionFlagsMap)};d.$FBPaymentsCheckoutV2StoreState2=function(a){for(var a=a.values(),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(!d.isReady)return!1}return!0};d.updateLinearSteps=function(a,c,d){var e=this.linearCheckoutSteps;e=e.filter(function(e){switch(e){case b("FBPaymentsCheckoutStep").NUX:return a;case b("FBPaymentsCheckoutStep").PSD_AGREEMENT_NUX:return c;case b("FBPaymentsCheckoutStep").ADDRESS_COLLECT:return!d}return!0});return this.set("linearCheckoutSteps",e)};d.updateAddressNUXAndLinearSteps=function(a){if(a)return this.set("isAddressNUX",!0);else{a=this.linearCheckoutSteps;var c=a.indexOf(b("FBPaymentsCheckoutStep").ADDRESS_COLLECT);c>=0&&(a=a["delete"](c));return this.set("isAddressNUX",!1).set("linearCheckoutSteps",a)}};d.updateToNextLinearStep=function(){var a=this.linearCheckoutSteps,c=a.first();a=a.shift();if(!c)return this.updateStepBasedOnReadiness(this.extensionFlagsMap);else if(c===b("FBPaymentsCheckoutStep").ADDRESS_COLLECT&&!this.isAddressNUX)return this.updateStepBasedOnReadiness(this.extensionFlagsMap);return this.set("checkoutStep",c).set("linearCheckoutSteps",a)};d.updateStepBasedOnReadiness=function(a){a=this.$FBPaymentsCheckoutV2StoreState2(a)?b("FBPaymentsCheckoutStep").READY_TO_PAY:b("FBPaymentsCheckoutStep").INCOMPLETE;if(this.autoPayOnReady&&a===b("FBPaymentsCheckoutStep").READY_TO_PAY)return this.set("checkoutStep",b("FBPaymentsCheckoutStep").PAYMENT_PROCESSING).set("autoPayOnReady",!1);return this.isRedirectedFromRazorPay?this.set("checkoutStep",b("FBPaymentsCheckoutStep").PAYMENT_PROCESSING).set("isRedirectedFromRazorPay",!1):this.set("checkoutStep",a)};d.$FBPaymentsCheckoutV2StoreState3=function(a){var c=this.checkoutStep;if(c===b("FBPaymentsCheckoutStep").READY_TO_PAY||c===b("FBPaymentsCheckoutStep").INCOMPLETE)return this.updateStepBasedOnReadiness(a);else if(c===b("FBPaymentsCheckoutStep").INITIALIZING)return this.$FBPaymentsCheckoutV2StoreState1()?this.updateToNextLinearStep():this;else return this};d.$FBPaymentsCheckoutV2StoreState4=function(a,c){var d=this.extensionsToVerify,e=this.activeExtensionForVerification,f=this.checkoutStep;if(this.checkoutStep===b("FBPaymentsCheckoutStep").VERIFICATION)if(!c.needsVerification)d=d["delete"](a),d.isEmpty()?(e=null,f=b("FBPaymentsCheckoutStep").PAYMENT_PROCESSING):e=d.first();else if(!e)return this.set("checkoutStep",b("FBPaymentsCheckoutStep").READY_TO_PAY);return this.set("extensionsToVerify",d).set("activeExtensionForVerification",e).set("checkoutStep",f)};d.updateExtension=function(a,b,c,d){if(!this.isExtensionInUse(a))return this;var e=this.extensionFlagsMap.set(a,c);b=this.extensionDataMap.set(a,b);d=this.extensionUserFacingErrorMap.set(a,d);var f=this.showHardErrorOnExtensions;f.extensionsNotReady.contains(a)&&(f={showError:!1,extensionsNotReady:h()});return this.set("extensionFlagsMap",e).set("extensionDataMap",b).set("showHardErrorOnExtensions",f).set("extensionUserFacingErrorMap",d).$FBPaymentsCheckoutV2StoreState3(e).$FBPaymentsCheckoutV2StoreState4(a,c)};d.getExtensionName=function(a){return a.identifier==="CUSTOM_EXTENSION"?a.extensionKey:a.identifier};d.updateForNewContentConfiguration=function(a){var b=this,c=this.extensionFlagsMap,d=a.purchaseInfo;d.forEach(function(a){a=b.getExtensionName(a);c.has(a)||(c=c.set(a,k))});return this.set("contentConfiguration",a).set("extensionFlagsMap",c)};d.updateTermsAndPolicies=function(a){return this.set("termsAndPolicies",a).$FBPaymentsCheckoutV2StoreState3(this.extensionFlagsMap)};d.isExtensionInUse=function(a){return this.extensionFlagsMap.has(a)};d.setOrUnsetActiveExtension=function(a,b){if(b&&this.activeExtension===null)return this.set("activeExtension",a);else if(!b&&this.activeExtension===a)return this.set("activeExtension",null);return this};d.setOrUnsetActiveExtensionForVerification=function(a,b){if(b&&this.activeExtensionForVerification===null)return this.set("activeExtensionForVerification",a);else if(!b&&this.activeExtensionForVerification===a)return this.set("activeExtensionForVerification",null);return this};d.clearCheckoutErrors=function(){return this.set("checkoutErrors",{})};d.setCheckoutErrors=function(a){return this.set("checkoutErrors",a)};d.setCachedRequestData=function(a){return this.set("cachedRequestData",a)};d.enterVerificationFlow=function(a){a={global:a};return this.set("showVerificationFlow",!0).setCheckoutErrors(a)};d.exitIncompleteVerificationFlow=function(){return this.set("showVerificationFlow",!1).set("checkoutStep",b("FBPaymentsCheckoutStep").READY_TO_PAY)};d.exitPassedVerificationFlow=function(){return this.set("showVerificationFlow",!1).clearCheckoutErrors()};d.contactSupportClick=function(){return this.set("showContactSupportFlow",!0)};d.exitIncompleteContactSupport=function(){return this.set("showContactSupportFlow",!1)};d.exitCompletedContactSupport=function(){return this.set("showContactSupportFlow",!1).$FBPaymentsCheckoutV2StoreState3(this.extensionFlagsMap)};d.getIsAnyAPICallsOngoing=function(){return this.onGoingAPICalls.size!==0};d.getPaymentSecurity=function(){return this.paymentSecurity};d.getResearchSurvey=function(){return this.researchSurvey};return c}(a.Record(g));e.exports=d}),null);
__d("FBPaymentsCouponCodeExtensionState",["immutable"],(function(a,b,c,d,e,f){"use strict";a={couponCode:null,couponCodeExtensionConfig:null,isApplied:!1,isCouponValid:!1,isFormFieldDisplayed:!1,isInitialized:!1,isLoading:!1,message:null,placeholderText:null,updateCheckoutTrigger:!1};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.toggleUpdateCheckoutTrigger=function(){return this.set("updateCheckoutTrigger",!this.updateCheckoutTrigger)};return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FBPaymentsCouponCodeExtensionStore",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCouponCodeActions","FBPaymentsCouponCodeExtensionState","FBPaymentsDispatcher","FluxReduceStore"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsCheckoutConstants").Extensions,h=b("FBPaymentsCouponCodeActions").types;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBPaymentsCouponCodeExtensionState"))()};d.getExtensionName=function(){return g.COUPON_CODE};d.reduce=function(a,c){var d=c.data;switch(c.type){case h.DISPLAY_FORM:return a.set("isFormFieldDisplayed",!0);case h.DISMISS_FORM:return a.set("couponCode",null).set("isCouponValid",!1).set("isApplied",!1).set("isFormFieldDisplayed",!1).set("message",null);case h.COUPON_CODE_ENTERED:return a.set("couponCode",d.couponCode).set("isCouponValid",!1).set("isApplied",!1).set("message",null);case b("FBPaymentsCheckoutActions").types.EXTENSION_UPDATE:return d.extensionName===this.getExtensionName()?this.$FBPaymentsCouponCodeExtensionStore1(a,d):a;case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsCheckoutActions").types.INITIALIZE_CHECKOUT:case b("FBPaymentsCheckoutActions").types.UPDATE_CONTENT_CONFIGURATION:case b("FBPaymentsCheckoutActions").types.UPDATE_CHECKOUT_INFO:b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);a=a.set("isLoading",!1);c=b("FBPaymentsCheckoutConfigurationStore").getCouponCodeExtensionConfig();a=a.set("isInitialized",!!c);a=a.set("couponCodeExtensionConfig",c);d=!!(c==null?void 0:c.couponValid);var e=c==null?void 0:c.message;a=a.set("isCouponValid",d);!d&&a.couponCode!=null&&(a=a.set("isFormFieldDisplayed",!0));a.couponCode||(a=a.set("couponCode",c==null?void 0:c.prefilledContent));a=a.set("message",e).set("placeholderText",c==null?void 0:c.placeholderText).set("isApplied",a.couponCode!=null);return a;default:return a}};d.$FBPaymentsCouponCodeExtensionStore1=function(a,b){switch(b.extensionActionType){case h.COUPON_CODE_REMOVED:return a.set("isFormFieldDisplayed",!1).set("couponCode",null).set("isApplied",!1).set("isLoading",!0);case h.SAVE_COUPON_CODE:return a.toggleUpdateCheckoutTrigger().set("isFormFieldDisplayed",!1).set("isLoading",!0)}return a};d.isInitialized=function(){return this.getState().isInitialized};d.hasInitializationError=function(){return!1};d.isReady=function(){return!0};d.getData=function(){var a=this.getState();return{couponCode:a.couponCode,updateCheckoutTrigger:a.updateCheckoutTrigger}};d.getUserFacingError=function(){return null};d.getPartialCheckoutRestoreData=function(){return{}};d.needsPrePaymentVerification=function(){return!1};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("FBPaymentsDispatcher"))}),null);
__d("FBPaymentsCustomOptionsExtensionState",["immutable"],(function(a,b,c,d,e,f){"use strict";a={customOptionFormData:null,isCustomOptionFormValid:!1,selectedOption:null,showForm:!1,isInitialized:!1,extraData:{}};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.setCollectedDataKey=function(a){a=babelHelpers["extends"]({},this.extraData,{collectedDataKey:a});return this.set("extraData",a)};return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FBPaymentsCustomOptionsExtensionStore",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCheckoutExtensionStore","FBPaymentsCustomOptionsActions","FBPaymentsCustomOptionsExtensionState","FBPaymentsCustomOptionsExtensionUtil","FBPaymentsDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsCustomOptionsActions").types,h=b("FBPaymentsCheckoutConstants").Extensions,i=b("FBPaymentsCheckoutConstants").RestoreKey;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBPaymentsCustomOptionsExtensionState"))()};d.getExtensionName=function(){return h.CUSTOM_OPTIONS};d.reduce=function(a,c){var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsCheckoutActions").types.EXTENSION_UPDATE:return d.extensionName===this.getExtensionName()?this.$FBPaymentsCustomOptionsExtensionStore1(a,d):a;case b("FBPaymentsCheckoutActions").types.INITIALIZE_CHECKOUT:case b("FBPaymentsCheckoutActions").types.UPDATE_CONTENT_CONFIGURATION:case b("FBPaymentsCheckoutActions").types.UPDATE_CHECKOUT_INFO:b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);c=b("FBPaymentsCheckoutConfigurationStore").getCustomOptionsExtensionConfig();var e=a.selectedOption,f=!1;e||(a=this.maybeRestoreFromCurrentURI(a),e=a.selectedOption);a=a.set("isInitialized",!!c);c&&(a=a.setCollectedDataKey(c.collectedDataKey),c.options.some(function(a){if(e&&a.optionId===e.optionId){f=b("FBPaymentsCustomOptionsExtensionUtil").isSameOption(a,e);return!0}return!1}),f||(e=b("FBPaymentsCustomOptionsExtensionUtil").getPreSelectedOptionFromExtensionConfig(c),a=a.set("selectedOption",e)));return a;case b("FBPaymentsCustomOptionsActions").types.ADD_CUSTOM_OPTION_CLICK:return a.set("showForm",!0);case b("FBPaymentsCustomOptionsActions").types.NEW_CUSTOM_OPTION_FORM_DATA_CHANGE:return a.set("customOptionFormData",d.customOptionFormData).set("isCustomOptionFormValid",d.isCustomOptionFormValid);default:return a}};d.$FBPaymentsCustomOptionsExtensionStore1=function(a,c){var d=c.updateData;switch(c.extensionActionType){case g.CUSTOM_OPTION_SELECTED:c=b("FBPaymentsCheckoutConfigurationStore").getCustomOptionsExtensionConfig();c=((c=c)!=null?c.options:c)||[];var e=d.selectedOptionID;c=c.find(function(a){return a.optionId===e});return a.set("selectedOption",c);case g.SAVE_NEW_CUSTOM_OPTION:b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);return a.set("customOptionFormData",null).set("isCustomOptionFormValid",!1).set("selectedOption",d.newOption).set("showForm",!1)}return a};d.isInitialized=function(){return this.getState().isInitialized};d.hasInitializationError=function(){return!1};d.isReady=function(){return!!this.getState().selectedOption};d.getData=function(){var a=this.getState(),b=a.selectedOption;return{selectedOption:b,optionPriceList:(b=b)!=null?b.optionPriceList:b,extraData:a.extraData}};d.getUserFacingError=function(){return null};d.getPartialCheckoutRestoreData=function(){var a,b=this.getState();return a={},a[i.CUSTOM_OPTIONS_SELECTED_OPTION]=JSON.stringify(b.selectedOption),a};d.maybeRestoreFromQueryData=function(a,b){b=b[i.CUSTOM_OPTIONS_SELECTED_OPTION];return b?a.set("selectedOption",JSON.parse(b)):a};d.needsPrePaymentVerification=function(){return!1};return c}(b("FBPaymentsCheckoutExtensionStore"));e.exports=new a(b("FBPaymentsDispatcher"))}),null);
__d("FBPaymentsFreeTrialExtensionState",["immutable"],(function(a,b,c,d,e,f){"use strict";a={freeTrialExtensionConfig:{},isInitialized:!0,showHardError:!1};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FBPaymentsFreeTrialExtensionStore",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCheckoutExtensionStore","FBPaymentsDispatcher","FBPaymentsFreeTrialExtensionState","isEmpty"],(function(a,b,c,d,e,f){"use strict";var g,h=b("FBPaymentsCheckoutConstants").Extensions;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBPaymentsFreeTrialExtensionState"))()};d.getExtensionName=function(){return h.FREE_TRIAL};d.reduce=function(a,c){switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsCheckoutActions").types.INITIALIZE_CHECKOUT:case b("FBPaymentsCheckoutActions").types.UPDATE_CONTENT_CONFIGURATION:case b("FBPaymentsCheckoutActions").types.UPDATE_CHECKOUT_INFO:b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);c=b("FBPaymentsCheckoutConfigurationStore").getFreeTrialExtensionConfig();a=a.set("isInitialized",!!c);a=a.set("freeTrialExtensionConfig",c);return a;default:return a}};d.isInitialized=function(){return this.getState().isInitialized};d.hasInitializationError=function(){return!1};d.isReady=function(){return!(g||(g=b("isEmpty")))(this.getState().freeTrialExtensionConfig)};d.getData=function(){var a=this.getState().freeTrialExtensionConfig;return{formattedDescription:a.formattedDescription,nextBillTime:a.nextBillTime,subscriptionFrequency:a.subscriptionFrequency,subscriptionPrice:a.subscriptionPrice,trialFrequency:a.trialFrequency,trialPeriod:a.trialPeriod,trialType:a.trialType}};d.getUserFacingError=function(){return null};d.getPartialCheckoutRestoreData=function(){return{}};d.needsPrePaymentVerification=function(){return!1};return c}(b("FBPaymentsCheckoutExtensionStore"));e.exports=new a(b("FBPaymentsDispatcher"))}),null);
__d("FBPaymentsFrequencySelectorExtensionState",["immutable"],(function(a,b,c,d,e,f){"use strict";a={fetchError:!1,frequencyOptions:null,isInitialized:!1,selectedIndex:0,selectedOption:{},showDAFDisclaimer:!1,showHardError:!1};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.setFetchError=function(){return this.set("isInitialized",!1).set("fetchError",!0)};return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FBPaymentsFrequencySelectorExtensionStore",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCheckoutExtensionStore","FBPaymentsDispatcher","FBPaymentsFrequencySelectorActions","FBPaymentsFrequencySelectorExtensionState"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsFrequencySelectorActions").types,h=b("FBPaymentsCheckoutConstants").Extensions,i=b("FBPaymentsCheckoutConstants").RestoreKey;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBPaymentsFrequencySelectorExtensionState"))()};d.getExtensionName=function(){return h.FREQUENCY_SELECTOR};d.reduce=function(a,c){var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsCheckoutActions").types.EXTENSION_UPDATE:return d.extensionName===this.getExtensionName()?this.$FBPaymentsFrequencySelectorExtensionStore1(a,d):a;case b("FBPaymentsCheckoutActions").types.UPDATE_CHECKOUT_INFO:b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);c=b("FBPaymentsCheckoutConfigurationStore").getFrequencySelectorExtensionConfig();d=c==null?void 0:c.frequencyOptions;if(d!=null){var e=this.maybeRestoreFromCurrentURI(a).selectedOption.type,f=d.findIndex(function(a){return String(a.type)===e});f=f===-1?0:f;c=c==null?void 0:c.showDAFDisclaimer;return a.set("selectedIndex",f).set("selectedOption",d[f]).set("frequencyOptions",d).set("showDAFDisclaimer",!!c).set("isInitialized",!0)}else return a.setFetchError();default:return a}};d.$FBPaymentsFrequencySelectorExtensionStore1=function(a,b){var c=b.updateData;switch(b.extensionActionType){case g.FREQUENCY_SELECTOR_OPTION_CLICK:return a.set("selectedIndex",c.index).set("selectedOption",c.selectedOption);case g.FREQUENCY_SELECTOR_LOADED:var d=this.maybeRestoreFromCurrentURI(a).selectedOption.type;b=c.frequencySelectorOptionsData;c=b.findIndex(function(a){return String(a.type)===d});c=c===-1?0:c;return a.set("selectedIndex",c).set("selectedOption",b[c]).set("frequencyOptions",b).set("isInitialized",!0)}return a};d.isInitialized=function(){return this.getState().isInitialized};d.hasInitializationError=function(){return this.getState().fetchError};d.isReady=function(){return this.getState().selectedIndex!==-1?!0:!1};d.getData=function(){var a=this.getState().selectedOption;return{subscriptionPeriod:a.period,subscriptionType:a.type}};d.getUserFacingError=function(){return null};d.getPartialCheckoutRestoreData=function(){var a,b=this.getState();return a={},a[i.FREQUENCY_SELECTOR_SELECTED_TYPE]=b.selectedOption.type,a};d.maybeRestoreFromQueryData=function(a,b){b=b[i.FREQUENCY_SELECTOR_SELECTED_TYPE];return a.set("selectedOption",{type:b})};d.needsPrePaymentVerification=function(){return!1};return c}(b("FBPaymentsCheckoutExtensionStore"));e.exports=new a(b("FBPaymentsDispatcher"))}),null);
__d("FBPaymentsNationalitySelectorExtensionState",["immutable"],(function(a,b,c,d,e,f){"use strict";a={fetchError:!1,nationalityOptions:null,isInitialized:!1,selectedIndex:0,selectedOption:{},showHardError:!1};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.setFetchError=function(){return this.set("isInitialized",!1).set("fetchError",!0)};return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FBPaymentsNationalitySelectorExtensionStore",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCheckoutExtensionStore","FBPaymentsDispatcher","FBPaymentsNationalitySelectorActions","FBPaymentsNationalitySelectorExtensionState"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsNationalitySelectorActions").types,h=b("FBPaymentsCheckoutConstants").Extensions,i=b("FBPaymentsCheckoutConstants").RestoreKey;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBPaymentsNationalitySelectorExtensionState"))()};d.getExtensionName=function(){return h.NATIONALITY_SELECTOR};d.reduce=function(a,c){var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsCheckoutActions").types.EXTENSION_UPDATE:return d.extensionName===this.getExtensionName()?this.$FBPaymentsNationalitySelectorExtensionStore1(a,d):a;case b("FBPaymentsCheckoutActions").types.UPDATE_CHECKOUT_INFO:b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);c=b("FBPaymentsCheckoutConfigurationStore").getNationalitySelectorExtensionConfig();d=c==null?void 0:c.nationalityOptions;if(d!=null){var e=this.maybeRestoreFromCurrentURI(a).selectedOption.is_citizen;c=d.findIndex(function(a){return String(a.is_citizen)===e});c=c===-1?0:c;return a.set("selectedIndex",c).set("selectedOption",d[c]).set("nationalityOptions",d).set("isInitialized",!0)}else return a.setFetchError();default:return a}};d.$FBPaymentsNationalitySelectorExtensionStore1=function(a,b){var c=b.updateData;switch(b.extensionActionType){case g.NATIONALITY_SELECTOR_OPTION_CLICK:return a.set("selectedIndex",c.index).set("selectedOption",c.selectedOption);case g.NATIONALITY_SELECTOR_LOADED:var d=this.maybeRestoreFromCurrentURI(a).selectedOption.is_citizen;b=c.nationalitySelectorOptionsData;c=b.findIndex(function(a){return a.isCitizen===d});c=c===-1?0:c;return a.set("selectedIndex",c).set("selectedOption",b[c]).set("nationalityOptions",b).set("isInitialized",!0)}return a};d.isInitialized=function(){return this.getState().isInitialized};d.hasInitializationError=function(){return this.getState().fetchError};d.isReady=function(){return this.getState().selectedIndex!==-1?!0:!1};d.getData=function(){var a=this.getState().selectedOption;return{isCitizen:a.is_citizen}};d.getUserFacingError=function(){return null};d.getPartialCheckoutRestoreData=function(){var a,b=this.getState();return a={},a[i.NATIONALITY_SELECTOR_SELECTED_TYPE]=b.selectedOption.is_citizen,a};d.maybeRestoreFromQueryData=function(a,b){b=b[i.NATIONALITY_SELECTOR_SELECTED_TYPE];return a.set("selectedOption",{type:b})};d.needsPrePaymentVerification=function(){return!1};return c}(b("FBPaymentsCheckoutExtensionStore"));e.exports=new a(b("FBPaymentsDispatcher"))}),null);
__d("FBPaymentsPriceSelectorConfigStore",["FBPaymentsCheckoutActions","FBPaymentsDispatcher","FBPaymentsModulesAPIShared","FBPaymentsPriceSelectorActions","FluxLoadObjectStore","immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return[this.getActionTypeStartLoad(),b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW,b("FBPaymentsPriceSelectorActions").types.PRICE_SELECTOR_ERROR,b("FBPaymentsPriceSelectorActions").types.PRICE_SELECTOR_LOADED]};d.reduce=function(a,c){var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsPriceSelectorActions").types.PRICE_SELECTOR_LOADED:c=this.makeImmutableKey(d.requestData);return this.__handleOne(a,c,d.priceSelectorConfig);case b("FBPaymentsPriceSelectorActions").types.PRICE_SELECTOR_ERROR:c=this.makeImmutableKey(d.requestData);return this.__handleOne(a,c,d.error);default:return a}};d.makeImmutableKey=function(a){return b("immutable").fromJS(a)};d.get=function(b){b=this.makeImmutableKey(b);return a.prototype.get.call(this,b)};d.__load=function(a){a=a.toJS();b("FBPaymentsModulesAPIShared").fetchPriceSelectorConfiguration(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("FBPaymentsDispatcher"))}),null);
__d("FBPaymentsStringHelper",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a={stringToMarkup:function(a){return g.jsx("div",{children:a.split("\n").map(function(a,b){return g.jsx("div",{children:a},b)})})},isNumber:function(a){a=parseInt(a,10);return!isNaN(a)&&isFinite(a)}};e.exports=a}),null);
__d("FBPaymentsPriceSelectorExtensionState",["FBPaymentsCheckoutConstants","FBPaymentsStringHelper","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsCheckoutConstants").RestoreKey;a={customAmount:"",customAmountInputErrorMessage:null,fetchError:!1,isInitialized:!1,priceSelectorConfiguration:null,selectedIndex:-1,showHardError:!1};c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.setConfiguration=function(a){var c="";if(a){var d;d=(d=a.customAmount)==null?void 0:d.placeholderText;d&&!isNaN(d)&&b("gkx")("941422")&&(c=d)}return this.set("isInitialized",!0).set("priceSelectorConfiguration",a).set("selectedIndex",parseInt(a.defaultSelected,10)).set("customAmount",c)};d.setFetchError=function(){return this.set("isInitialized",!1).set("fetchError",!0)};d.maybeRestoreFromQueryData=function(a){var c=this,d=a[g.PRICE_SELECTOR_CUSTOM_AMOUNT],e=d&&b("FBPaymentsStringHelper").isNumber(d)&&parseInt(d,10)>0;e&&(c=c.set("customAmount",d));e=a[g.PRICE_SELECTOR_SELECTED_INDEX];d=parseInt(e,10);a=b("FBPaymentsStringHelper").isNumber(e)&&d>=-1;a&&(c=c.set("selectedIndex",d));return c};return c}(b("immutable").Record(a));e.exports=c}),null);
__d("FBPaymentsPriceSelectorExtensionStore",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCheckoutExtensionStore","FBPaymentsDispatcher","FBPaymentsPriceSelectorActions","FBPaymentsPriceSelectorConfigStore","FBPaymentsPriceSelectorExtensionState"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsPriceSelectorActions").types,h=b("FBPaymentsCheckoutConstants").Extensions,i=b("FBPaymentsCheckoutConstants").RestoreKey;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBPaymentsPriceSelectorExtensionState"))()};d.getExtensionName=function(){return h.PRICE_SELECTOR};d.reduce=function(a,c){var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsCheckoutActions").types.EXTENSION_UPDATE:return d.extensionName===this.getExtensionName()?this.$FBPaymentsPriceSelectorExtensionStore1(a,d):a;case b("FBPaymentsCheckoutActions").types.UPDATE_CHECKOUT_INFO:b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);c=b("FBPaymentsCheckoutConfigurationStore").getPriceSelectorExtensionConfig();c=c==null?void 0:c.priceSelectorConfigData;if(c!=null)return this.maybeRestoreFromCurrentURI(a.setConfiguration(c));else return a.setFetchError();case g.PRICE_SELECTOR_LOADED:b("FBPaymentsDispatcher").waitFor([b("FBPaymentsPriceSelectorConfigStore").getDispatchToken()]);c=b("FBPaymentsPriceSelectorConfigStore").makeImmutableKey(d.requestData);d=b("FBPaymentsPriceSelectorConfigStore").get(c);c=d.getValueEnforcing();d=a.setConfiguration(c);return this.maybeRestoreFromCurrentURI(d);case g.PRICE_SELECTOR_ERROR:b("FBPaymentsDispatcher").waitFor([b("FBPaymentsPriceSelectorConfigStore").getDispatchToken()]);return a.setFetchError();default:return a}};d.$FBPaymentsPriceSelectorExtensionStore1=function(a,b){var c=b.updateData;switch(b.extensionActionType){case g.PRICE_SELECTOR_SET_CUSTOM_AMOUNT:return a.set("selectedIndex",-1).set("customAmount",c.customAmount).set("customAmountInputErrorMessage",c.validationResult.errorMessage);case g.PRICE_SELECTOR_CUSTOM_AMOUNT_FOCUS:return a.set("selectedIndex",-1);case g.PRICE_SELECTOR_BUTTON_CLICK:return a.set("selectedIndex",c.index).set("customAmount","").set("customAmountInputErrorMessage",null)}return a};d.isInitialized=function(){return this.getState().isInitialized};d.hasInitializationError=function(){return this.getState().fetchError};d.isReady=function(){var a=this.getState();if(a.customAmountInputErrorMessage||a.fetchError||!a.priceSelectorConfiguration)return!1;return a.customAmount||a.selectedIndex!==-1?!0:!1};d.getData=function(){var a=this.getState();a=a.priceSelectorConfiguration;if(!a)return{currency:"",selectedAmount:""};a=a.getCurrency();return{currency:a,selectedAmount:this.$FBPaymentsPriceSelectorExtensionStore2()}};d.getUserFacingError=function(){return null};d.getPartialCheckoutRestoreData=function(){var a,b=this.getState();return a={},a[i.PRICE_SELECTOR_SELECTED_INDEX]=b.selectedIndex,a[i.PRICE_SELECTOR_CUSTOM_AMOUNT]=b.customAmount,a};d.maybeRestoreFromQueryData=function(a,b){return a.maybeRestoreFromQueryData(b)};d.needsPrePaymentVerification=function(){return!1};d.$FBPaymentsPriceSelectorExtensionStore2=function(){var a=this.getState(),b=a.priceSelectorConfiguration;return!b?"":this.$FBPaymentsPriceSelectorExtensionStore3()?a.customAmount:b.getSelectedAmountFromIndex(a.selectedIndex)};d.$FBPaymentsPriceSelectorExtensionStore3=function(){var a=this.getState();return!!a.customAmount||a.selectedIndex<0};return c}(b("FBPaymentsCheckoutExtensionStore"));e.exports=new a(b("FBPaymentsDispatcher"))}),null);
__d("PaymentSubscriptionTrialType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FREE:"free"})}),null);
__d("FBPaymentsCheckoutV2StoreBase",["fbt","invariant","FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCheckoutStep","FBPaymentsCheckoutV2StoreState","FBPaymentsContactInfoActions","FBPaymentsCouponCodeExtensionStore","FBPaymentsCustomOptionsExtensionStore","FBPaymentsDispatcher","FBPaymentsFreeTrialExtensionStore","FBPaymentsFrequencySelectorExtensionStore","FBPaymentsNationalitySelectorExtensionStore","FBPaymentsPaymentMethodActions","FBPaymentsPerfLogger","FBPaymentsPriceListHelper","FBPaymentsPriceSelectorActions","FBPaymentsPriceSelectorExtensionStore","FBPaymentsTaxInfoExtensionStore","FBPaymentsUserInfoOptInExtensionStore","FluxReduceStore","PaymentSubscriptionTrialType","abstractMethod","gkx","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("FBPaymentsCheckoutConstants").Extensions,j=b("immutable").List,k=b("immutable").OrderedSet,l=b("FBPaymentsCheckoutActions").types,m=b("FBPaymentsContactInfoActions").types,n=b("FBPaymentsPriceSelectorActions").types,o=b("FBPaymentsPaymentMethodActions").types;a=function(a){babelHelpers.inheritsLoose(d,a);var c=d.prototype;c.getInitialState=function(){return new(b("FBPaymentsCheckoutV2StoreState"))()};function d(){return a.call(this,b("FBPaymentsDispatcher"))||this}c.reduce=function(a,c){var d=c.data;switch(c.type){case l.INITIALIZE_CHECKOUT:a=this.$FBPaymentsCheckoutV2StoreBase1(a).set("disableUpfrontAddressCollect",d.disableUpfrontAddressCollect).updateLinearSteps(d.enableCheckoutNUX,d.enablePSDAgreementNUX,d.disableUpfrontAddressCollect).updateToNextLinearStep();return a;case l.SHOW_HARD_ERROR_ON_EXTENSIONS:return a.set("showHardErrorOnExtensions",d);case l.UPDATE_CHECKOUT_STEP:return a.set("checkoutStep",d);case l.SET_IS_UPDATING_CHECKOUT:return a.set("isUpdatingCheckout",!0);case l.UPDATE_CHECKOUT_LOAD_ERROR:return a.set("updateCheckoutLoadError",d).set("isUpdatingCheckout",!1);case l.TERMS_AND_POLICIES_LOADED:return a.updateTermsAndPolicies(d);case l.TERMS_AND_POLICIES_ERROR:return a.set("termsAndPoliciesError",!0);case l.NUX_CONTINUE_BUTTON_CLICK:return a.updateToNextLinearStep();case l.ENABLE_AUTO_PAY_ON_READY:return a.set("autoPayOnReady",!0);case l.SHOULD_ENABLE_PAYPAL:return a.set("shouldEnablePaypal",d);case l.PAY_BUTTON_CLICK:return this.$FBPaymentsCheckoutV2StoreBase2(a,d);case l.PAYMENT_PROCESSING_CALLBACK_LOADING:return a.set("paymentProcessingMessage",d.paymentProcessingMessage).set("checkoutStep",b("FBPaymentsCheckoutStep").PAYMENT_PROCESSING_EXTENDED);case l.PAYMENT_PROCESSING_CALLBACK_DONE:b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);return a.set("checkoutStep",b("FBPaymentsCheckoutStep").CONFIRMATION);case l.PAYMENT_PROCESSING_ERROR:case l.PAYMENT_PROCESSING_EXTENSION_DATA_PREP_ERROR:case l.PAYMENT_PROCESSING_CALLBACK_ERROR:return a.set("checkoutStep",b("FBPaymentsCheckoutStep").READY_TO_PAY).setCheckoutErrors(d);case l.SUCCESSFUL_3DS:return a.set("cmpi3DSResult",d.cmpiLookupResult);case l.UPDATE_CHECKOUT_INFO:a=this.$FBPaymentsCheckoutV2StoreBase1(a);d.shouldCollectAddressUpfront&&(a=this.$FBPaymentsCheckoutV2StoreBase3(a,!0));return a.updateTermsAndPolicies(d.termsAndPolicies).set("paymentSessionID",d.paymentSessionID).set("receiverInfo",d.receiverInfo).set("extensionsToTriggerUpdateCheckout",d.extensionsToTriggerUpdateCheckout).set("banner",d.banner);case l.UPDATE_CHECKOUT_INFO_GRAPHQL_RESPONSE:return a.set("checkoutInfoGraphQLResponse",d).set("paymentSecurity",d==null?void 0:d.payment_security).set("researchSurvey",d==null?void 0:d.research_survey);case l.UPDATE_CONTENT_CONFIGURATION:return this.$FBPaymentsCheckoutV2StoreBase1(a);case l.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case l.TOGGLE_IS_CHECKOUT_DIALOG_SHOWN:return a.set("isCheckoutDialogShown",d);case l.TOGGLE_IS_SECONDARY_PAYMENT_METHOD_CHECKED:return a.set("isSecondaryPaymentMethodChecked",d);case l.EXTENSION_UPDATE:return this.$FBPaymentsCheckoutV2StoreBase4(a,c.data);case l.CUSTOM_EXTENSION_UPDATE:return this.$FBPaymentsCheckoutV2StoreBase5(a,c.data);case l.REGISTER_EXTENSION_DATA_PREPARER:var e=a.extensionDataPreparerMap.set(d.extensionName,d.extensionDataPreparer);return a.set("extensionDataPreparerMap",e);case l.REQUEST_ACTIVE_EXTENSION:return a.setOrUnsetActiveExtension(d.extensionName,d.active);case l.REQUEST_ACTIVE_EXTENSION_FOR_VERIFICATION:a=a.setOrUnsetActiveExtensionForVerification(d.extensionName,d.active);return this.$FBPaymentsCheckoutV2StoreBase4(a,d);case n.PRICE_SELECTOR_LOADED:case n.PRICE_SELECTOR_ERROR:return this.$FBPaymentsCheckoutV2StoreBase6(a);case m.CONTACT_NAME_LOADED:case m.CONTACT_NAME_ERROR:case m.CONTACT_EMAILS_LOADED:case m.CONTACT_EMAILS_ERROR:case m.CONTACT_PHONE_NUMBERS_LOADED:case m.CONTACT_PHONE_NUMBERS_ERROR:return this.$FBPaymentsCheckoutV2StoreBase7(a);case o.PAYMENT_METHODS_LOADED:case o.PAYMENT_METHODS_ERROR:return this.$FBPaymentsCheckoutV2StoreBase8(a);case m.MAILING_ADDRESSES_LOADED:case m.MAILING_ADDRESSES_ERROR:return this.$FBPaymentsCheckoutV2StoreBase3(a,c.type===m.MAILING_ADDRESSES_LOADED);case l.CACHE_REQUEST_DATA:return a.setCachedRequestData(c.data);case l.ENTER_VERIFICATION_FLOW:return a.enterVerificationFlow(d.userFacingMessage);case l.EXIT_INCOMPLETE_VERIFICATION_FLOW:return a.exitIncompleteVerificationFlow();case l.EXIT_PASSED_VERIFICATION_FLOW:return a.exitPassedVerificationFlow();case l.COMPLETE_UPFRONT_ADDRESS_COLLECT:return a.updateToNextLinearStep();case l.CONTACT_SUPPORT_CLICK:return a.contactSupportClick();case l.EXIT_INCOMPLETE_CONTACT_SUPPORT:return a.exitIncompleteContactSupport();case l.EXIT_COMPLETED_CONTACT_SUPPORT:return a.exitCompletedContactSupport();case l.SHOW_EXIT_CHECKOUT_CONFIRM_DIALOG:return a.set("showExitCheckoutConfirmDialog",d.showDialog);case l.SHOW_DONATION_LARGE_AMOUNT_CONFIRM_DIALOG:return a.set("showDonationLargeAmountConfirmDialog",d.showDialog);case l.ADD_ONGOING_API_CALL:return a.set("onGoingAPICalls",a.onGoingAPICalls.add(d));case l.REMOVE_ONGOING_API_CALL:return a.set("onGoingAPICalls",a.onGoingAPICalls.remove(d));case l.REMOVE_PAYMENT_SESSION_ID:return a.set("paymentSessionID",null);case l.UPDATE_PAYMENT_SESSION_ID:return a.set("paymentSessionID",d);case l.ALT_PAY_FLOW_CANCELLED:return a.set("altPayCancelledError",d);case l.UPDATE_PIN_CREATION_NEEDED:return a.set("isPINCreationNeeded",!d);case l.CREATE_PIN_SUCCESS:e=babelHelpers["extends"]({},a.getPaymentSecurity(),{fbpay_pin_status:"ACTIVE",user_has_pin:!0});return a.set("paymentSecurity",e);case l.REDIRECTED_FROM_RAZORPAY:return a.set("isRedirectedFromRazorPay",d);default:return a}};c.$FBPaymentsCheckoutV2StoreBase1=function(a){b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCustomOptionsExtensionStore").getDispatchToken(),b("FBPaymentsCouponCodeExtensionStore").getDispatchToken(),this.__getContactInfoExtensionStore().getDispatchToken(),this.__getShippingAddressExtensionStore().getDispatchToken(),this.__getPaymentMethodExtensionStore().getDispatchToken(),b("FBPaymentsPriceSelectorExtensionStore").getDispatchToken(),b("FBPaymentsFrequencySelectorExtensionStore").getDispatchToken(),b("FBPaymentsUserInfoOptInExtensionStore").getDispatchToken(),b("FBPaymentsNationalitySelectorExtensionStore").getDispatchToken()]);var c=b("FBPaymentsCheckoutConfigurationStore").getContentConfiguration();c&&(a=a.updateForNewContentConfiguration(c),a.isExtensionInUse(i.CUSTOM_OPTIONS)&&(a=this.$FBPaymentsCheckoutV2StoreBase9(a)),a.isExtensionInUse(i.COUPON_CODE)&&(a=this.$FBPaymentsCheckoutV2StoreBase10(a)),a.isExtensionInUse(i.CONTACT_INFO)&&(a=this.$FBPaymentsCheckoutV2StoreBase7(a)),a.isExtensionInUse(i.SHIPPING_ADDRESS)&&(a=this.$FBPaymentsCheckoutV2StoreBase3(a)),a.isExtensionInUse(i.PAYMENT_METHOD)&&(a=this.$FBPaymentsCheckoutV2StoreBase8(a)),a.isExtensionInUse(i.FREE_TRIAL)&&(a=this.$FBPaymentsCheckoutV2StoreBase11(a)),a.isExtensionInUse(i.PRICE_SELECTOR)&&(a=this.$FBPaymentsCheckoutV2StoreBase6(a)),a.isExtensionInUse(i.FREQUENCY_SELECTOR)&&(a=this.$FBPaymentsCheckoutV2StoreBase12(a)),a.isExtensionInUse(i.NATIONALITY_SELECTOR)&&(a=this.$FBPaymentsCheckoutV2StoreBase13(a)),a.isExtensionInUse(i.USER_INFO_OPT_IN)&&(a=this.$FBPaymentsCheckoutV2StoreBase14(a)),a.isExtensionInUse(i.TAX_INFO)&&(a=this.$FBPaymentsCheckoutV2StoreBase15(a)));return a.set("isUpdatingCheckout",!1)};c.$FBPaymentsCheckoutV2StoreBase15=function(a){var c;b("FBPaymentsDispatcher").waitFor([(c=b("FBPaymentsTaxInfoExtensionStore")).getDispatchToken()]);var d=c.getData(),e=c.getPartialCheckoutRestoreData(),f={hasInitializationError:c.hasInitializationError(),isReady:c.isReady(),isInitialized:c.isInitialized(),needsVerification:c.needsPrePaymentVerification()};c=c.getUserFacingError();return a.set("taxInfoData",d).mergeCheckoutRestoreData(e).updateExtension(i.TAX_INFO,d,f,c)};c.$FBPaymentsCheckoutV2StoreBase2=function(a,c){c===void 0&&(c=!1);if(a.isUpdatingCheckout)return a;var d=j(),e=k();for(var f=a.extensionFlagsMap.entries(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var l=i[0];i=i[1];i.isReady||(d=d.push(l));i.needsVerification&&(e=e.add(l))}i=a.clearCheckoutErrors();if(!d.isEmpty())return i.set("showHardErrorOnExtensions",{showError:!0,extensionsNotReady:j.of(d.first())});if(!e.isEmpty()){i=i.set("extensionsToVerify",e).set("activeExtensionForVerification",e.first()).set("checkoutStep",b("FBPaymentsCheckoutStep").VERIFICATION);return i}if(c){i=i.set("showDonationLargeAmountConfirmDialog",{showDialog:!0});return i}b("FBPaymentsPerfLogger").logPayButtonClicked();i=i.set("checkoutStep",b("FBPaymentsCheckoutStep").PAYMENT_PROCESSING);return i};c.$FBPaymentsCheckoutV2StoreBase4=function(a,b){b=b.extensionName;switch(b){case i.CONTACT_INFO:return this.$FBPaymentsCheckoutV2StoreBase7(a);case i.COUPON_CODE:return this.$FBPaymentsCheckoutV2StoreBase10(a);case i.CUSTOM_OPTIONS:return this.$FBPaymentsCheckoutV2StoreBase9(a);case i.FREQUENCY_SELECTOR:return this.$FBPaymentsCheckoutV2StoreBase12(a);case i.NATIONALITY_SELECTOR:return this.$FBPaymentsCheckoutV2StoreBase13(a);case i.PRICE_SELECTOR:return this.$FBPaymentsCheckoutV2StoreBase6(a);case i.PAYMENT_METHOD:return this.$FBPaymentsCheckoutV2StoreBase8(a);case i.SHIPPING_ADDRESS:return this.$FBPaymentsCheckoutV2StoreBase3(a,!1);case i.USER_INFO_OPT_IN:return this.$FBPaymentsCheckoutV2StoreBase14(a);case i.TAX_INFO:return this.$FBPaymentsCheckoutV2StoreBase15(a);default:return a}};c.$FBPaymentsCheckoutV2StoreBase3=function(a,c){if(!a.isExtensionInUse(i.SHIPPING_ADDRESS))return a;var d=this.__getShippingAddressExtensionStore();b("FBPaymentsDispatcher").waitFor([d.getDispatchToken()]);if(c&&!a.disableUpfrontAddressCollect){c=d.shouldCollectAddressUpfront();a=a.updateAddressNUXAndLinearSteps(c)}c=d.getData();var e=d.getPartialCheckoutRestoreData(),f={hasInitializationError:d.hasInitializationError(),isReady:d.isReady(),isInitialized:d.isInitialized(),needsVerification:d.needsPrePaymentVerification()};d=d.getUserFacingError();return a.mergeCheckoutRestoreData(e).updateExtension(i.SHIPPING_ADDRESS,c,f,d)};c.$FBPaymentsCheckoutV2StoreBase7=function(a){var c=this.__getContactInfoExtensionStore();b("FBPaymentsDispatcher").waitFor([c.getDispatchToken()]);var d=c.getData(),e=c.getPartialCheckoutRestoreData();c={hasInitializationError:c.hasInitializationError(),isReady:c.isReady(),isInitialized:c.isInitialized(),needsVerification:c.needsPrePaymentVerification()};return a.set("contactInfoData",d).mergeCheckoutRestoreData(e).updateExtension(i.CONTACT_INFO,d,c)};c.$FBPaymentsCheckoutV2StoreBase10=function(a){var c;b("FBPaymentsDispatcher").waitFor([(c=b("FBPaymentsCouponCodeExtensionStore")).getDispatchToken()]);var d=c.getData(),e=c.getPartialCheckoutRestoreData();c={hasInitializationError:c.hasInitializationError(),isReady:c.isReady(),isInitialized:c.isInitialized(),needsVerification:c.needsPrePaymentVerification()};return a.mergeCheckoutRestoreData(e).updateExtension(i.COUPON_CODE,d,c)};c.$FBPaymentsCheckoutV2StoreBase9=function(a){var c;b("FBPaymentsDispatcher").waitFor([(c=b("FBPaymentsCustomOptionsExtensionStore")).getDispatchToken()]);var d=c.getData(),e=c.getPartialCheckoutRestoreData();c={hasInitializationError:c.hasInitializationError(),isReady:c.isReady(),isInitialized:c.isInitialized(),needsVerification:c.needsPrePaymentVerification()};return a.mergeCheckoutRestoreData(e).updateExtension(i.CUSTOM_OPTIONS,d,c)};c.$FBPaymentsCheckoutV2StoreBase12=function(a){var c;b("FBPaymentsDispatcher").waitFor([(c=b("FBPaymentsFrequencySelectorExtensionStore")).getDispatchToken()]);var d=c.getPartialCheckoutRestoreData(),e=c.getData();c={hasInitializationError:c.hasInitializationError(),isReady:c.isReady(),isInitialized:c.isInitialized(),needsVerification:c.needsPrePaymentVerification()};return a.set("frequencySelectorData",e).mergeCheckoutRestoreData(d).updateExtension(i.FREQUENCY_SELECTOR,e,c)};c.$FBPaymentsCheckoutV2StoreBase13=function(a){var c;b("FBPaymentsDispatcher").waitFor([(c=b("FBPaymentsNationalitySelectorExtensionStore")).getDispatchToken()]);var d=c.getPartialCheckoutRestoreData(),e=c.getData();c={hasInitializationError:c.hasInitializationError(),isReady:c.isReady(),isInitialized:c.isInitialized(),needsVerification:c.needsPrePaymentVerification()};return a.set("nationalitySelectorData",e).mergeCheckoutRestoreData(d).updateExtension(i.NATIONALITY_SELECTOR,e,c)};c.$FBPaymentsCheckoutV2StoreBase6=function(a){var c;b("FBPaymentsDispatcher").waitFor([(c=b("FBPaymentsPriceSelectorExtensionStore")).getDispatchToken()]);var d=c.getData(),e=c.getPartialCheckoutRestoreData();c={hasInitializationError:c.hasInitializationError(),isReady:c.isReady(),isInitialized:c.isInitialized(),needsVerification:c.needsPrePaymentVerification()};var f;d.currency!==""&&(f={amount:d.selectedAmount,currency:d.currency});return a.set("priceSelectorData",d).set("buttonPrice",f).mergeCheckoutRestoreData(e).updateExtension(i.PRICE_SELECTOR,d,c)};c.$FBPaymentsCheckoutV2StoreBase8=function(a){var c=this.__getPaymentMethodExtensionStore();b("FBPaymentsDispatcher").waitFor([c.getDispatchToken()]);var d=c.getData(),e={hasInitializationError:c.hasInitializationError(),isReady:c.isReady(),isInitialized:c.isInitialized(),needsVerification:c.needsPrePaymentVerification()};c=c.getUserFacingError();var f=a.isSecondaryPaymentMethodChecked?d:babelHelpers["extends"]({},d,{secondaryPaymentMethod:null});return a.set("paymentMethodData",d).updateExtension(i.PAYMENT_METHOD,f,e,c)};c.$FBPaymentsCheckoutV2StoreBase11=function(a){var c;b("FBPaymentsDispatcher").waitFor([(c=b("FBPaymentsFreeTrialExtensionStore")).getDispatchToken()]);var d=c.getData(),e={hasInitializationError:c.hasInitializationError(),isReady:c.isReady(),isInitialized:c.isInitialized(),needsVerification:c.needsPrePaymentVerification()};c=c.getUserFacingError();return a.set("freeTrialData",d).updateExtension(i.FREE_TRIAL,d,e,c)};c.$FBPaymentsCheckoutV2StoreBase14=function(a){var c;b("FBPaymentsDispatcher").waitFor([(c=b("FBPaymentsUserInfoOptInExtensionStore")).getDispatchToken()]);var d=c.getData(),e={hasInitializationError:c.hasInitializationError(),isReady:c.isReady(),isInitialized:c.isInitialized(),needsVerification:c.needsPrePaymentVerification()};c=c.getUserFacingError();return a.set("optInData",d).updateExtension(i.USER_INFO_OPT_IN,d,e,c)};c.$FBPaymentsCheckoutV2StoreBase5=function(a,c){var d=c.extensionStore;b("FBPaymentsDispatcher").waitFor([d.getDispatchToken()]);c=c.extensionKey;var e=d.getData(),f={hasInitializationError:d.hasInitializationError(),isReady:d.isReady(),isInitialized:d.isInitialized(),needsVerification:d.needsPrePaymentVerification()};d=d.getPartialCheckoutRestoreData();return a.updateExtension(c,e,f).mergeCheckoutRestoreData(d)};c.getExtensionsWithHardError=function(){return this.getState().showHardErrorOnExtensions};c.getShowHardErrorOnExtension=function(a){var b=this.getExtensionsWithHardError();return b&&b.showError&&b.extensionsNotReady.includes(a)};c.isCheckoutInitialized=function(a){return this.getState().isCheckoutInitialized(a)};c.hasAnyInitializationError=function(){var a=this.getState();if(b("gkx")("676854"))return!0;if(a.updateCheckoutLoadError||a.termsAndPoliciesError)return!0;for(var a=a.extensionFlagsMap.values(),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(e.hasInitializationError)return!0}return!1};c.getFinalPriceList=function(a){var c=this.getState().extensionDataMap;a=((a=a)!=null?a.priceList:a)||[];var d=[];for(var c=c.values(),e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=c.length)break;h=c[f++]}else{f=c.next();if(f.done)break;h=f.value}h=h;var i=h.subscriptionPrice,j=h.trialType;if(b("PaymentSubscriptionTrialType")[j]==="free"){j={amount:"0",currency:i.currency};i=g._("Free trial");i={label:i,price:j};return[i]}j=h.optionPriceList;j&&d.push(j)}i=b("FBPaymentsPriceListHelper").mergePriceLists(a,d);return i};c.areAllExtensionsReady=function(){return this.getState().areAllExtensionsReady()};c.shouldShowUpfrontAddressCollection=function(){var a=this.getState(),c=a.checkoutStep===b("FBPaymentsCheckoutStep").ADDRESS_COLLECT;c&&(a.disableUpfrontAddressCollect&&h(0,2211,b("FBPaymentsCheckoutStep").ADDRESS_COLLECT));return c};c.shouldConnectPayPalInCheckoutContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutV2StoreBase","shouldConnectPayPalInCheckoutContainer")};c.__getContactInfoExtensionStore=function(){return b("abstractMethod")("FBPaymentsCheckoutV2StoreBase","__getContactInfoExtensionStore")};c.__getPaymentMethodExtensionStore=function(){return b("abstractMethod")("FBPaymentsCheckoutV2StoreBase","__getPaymentMethodExtensionStore")};c.__getShippingAddressExtensionStore=function(){return b("abstractMethod")("FBPaymentsCheckoutV2StoreBase","__getShippingAddressExtensionStore")};return d}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=a}),null);
__d("FBPaymentsContactInfoExtensionState",["FBPaymentsCheckoutConstants","FBPaymentsNormalizers","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsCheckoutConstants").ContactInfoTypes;a={contactEmailList:b("immutable").List(),contactInfoDisclaimer:null,contactName:"",contactPhoneNumbers:b("immutable").List(),isContactEmailInitialized:!1,isContactEmailRequired:!0,isContactNameInitialized:!1,isContactNameRequired:!0,isContactPhoneInitialized:!1,isContactPhoneRequired:!0,isNewContactEmailValid:!1,isNewContactPhoneNumberValid:!1,isNewContactNameValid:!1,newContactEmail:"",newContactPhoneNumber:"",selectedContactEmail:null,selectedContactPhoneNumber:null,validationContactEmailErrorMessage:null,validationContactNameErrorMessage:null,validationContactPhoneNumberErrorMessage:null};c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.setRequiredContactInfo=function(a){var b=a.includes(g.NAME),c=a.includes(g.EMAIL);a=a.includes(g.PHONE);return this.set("isContactNameRequired",b).set("isContactEmailRequired",c).set("isContactPhoneRequired",a)};d.setDefaultContactName=function(a){a=this.contactName!==""?this.contactName:a;return this.set("isContactNameInitialized",!0).set("contactName",a).set("isNewContactNameValid",!!a)};d.setContactNameInput=function(a,b){return this.set("contactName",a).set("isNewContactNameValid",b.isValid).set("validationContactNameErrorMessage",b.errorMessage)};d.initializeContactEmails=function(a){var b=a.filter(function(a){return a.is_default}).first();b||(b=a.first());var c="",d=!1,e=null;this.newContactEmail!==""?(c=this.newContactEmail,d=!0,e=this.contactEmailList.filter(function(a){return a.normalized_email_address===c}).first()):b&&(c=b.normalized_email_address,e=b,d=!0);return this.set("contactEmailList",a).set("isContactEmailInitialized",!0).set("selectedContactEmail",e).set("newContactEmail",c).set("isNewContactEmailValid",d)};d.initializeContactPhoneNumbers=function(a){var b=a.filter(function(a){return a.isDefault}).first();b||(b=a.first());var c="",d=!1,e=null;this.newContactPhoneNumber!==""?(c=this.newContactPhoneNumber,d=!0,e=this.findPhoneNumberIfExists(c)):b&&(e=b,c=b.intlNumberWithPlus,d=!0);return this.set("contactPhoneNumbers",a).set("isContactPhoneInitialized",!0).set("selectedContactPhoneNumber",e).set("newContactPhoneNumber",c).set("isNewContactPhoneNumberValid",d)};d.setEmailInput=function(a,b){var c=this.contactEmailList.filter(function(b){return b.normalized_email_address===a}).first();return this.set("newContactEmail",a).set("selectedContactEmail",c).set("isNewContactEmailValid",b.isValid).set("validationContactEmailErrorMessage",b.errorMessage)};d.selectEmail=function(a){var b=this.contactEmailList.filter(function(b){return b.id===a}).first(),c=b==null?void 0:b.normalized_email_address,d=c!=null;return this.set("selectedContactEmail",b).set("newContactEmail",c).set("isNewContactEmailValid",d).set("validationContactEmailErrorMessage",null)};d.selectNewSavedEmail=function(a,b){b={id:b,normalized_email_address:a,is_default:!1};var c=this.contactEmailList;c=c.push(b);return this.set("selectedContactEmail",b).set("newContactEmail",a).set("contactEmailList",c)};d.setPhoneNumberInput=function(a,b){var c=this.findPhoneNumberIfExists(a);return this.set("newContactPhoneNumber",a).set("selectedContactPhoneNumber",c).set("isNewContactPhoneNumberValid",b.isValid).set("validationContactPhoneNumberErrorMessage",b.errorMessage)};d.findPhoneNumberIfExists=function(a){var c=this.contactPhoneNumbers.filter(function(c){c=(c=c.intlNumberWithPlus)!=null?c:"";return b("FBPaymentsNormalizers").stripNonNumeric(c)===b("FBPaymentsNormalizers").stripNonNumeric(a)}).first();return c};d.selectPhoneNumber=function(a){var b=this.contactPhoneNumbers.filter(function(b){return b.id===a}).first(),c=b.intlNumberWithPlus,d=c!=null;return this.set("selectedContactPhoneNumber",b).set("newContactPhoneNumber",c).set("isNewContactPhoneNumberValid",d).set("validationContactPhoneNumberErrorMessage",null)};d.selectNewSavedPhoneNumber=function(a,b,c){c={id:c,isDefault:!1,intlNumberWithPlus:a,formattedIntlNumberWithPlus:b};b=this.contactPhoneNumbers;b=b.push(c);return this.set("selectedContactPhoneNumber",c).set("newContactPhoneNumber",a).set("contactPhoneNumbers",b)};d.prefillData=function(a){return this.set("newContactEmail",a.contactEmail||"").set("contactName",a.contactName||"").set("newContactPhoneNumber",a.contactPhoneNumber||"")};d.initializeDisclaimer=function(a){return this.set("contactInfoDisclaimer",a)};return c}(b("immutable").Record(a));e.exports=c}),null);
__d("FBPaymentsContactInfoExtensionStoreBase",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCheckoutExtensionStore","FBPaymentsContactInfoActions","FBPaymentsContactInfoExtensionState","FBPaymentsContactInfoTypes","FBPaymentsDispatcher","abstractMethod","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsCheckoutConstants").Extensions,h=b("FBPaymentsCheckoutConstants").RestoreKey,i=b("FBPaymentsContactInfoActions").types;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("FBPaymentsDispatcher"))||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBPaymentsContactInfoExtensionState"))()};d.getExtensionName=function(){return g.CONTACT_INFO};d.__getContactInfoStore=function(){return b("abstractMethod")("FBPaymentsContactInfoExtensionStoreBase","__getContactInfoStore")};d.reduce=function(a,c){var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsCheckoutActions").types.EXTENSION_UPDATE:return d.extensionName===this.getExtensionName()?this.$FBPaymentsContactInfoExtensionStoreBase1(a,d):a;case b("FBPaymentsCheckoutActions").types.UPDATE_CHECKOUT_INFO:return this.$FBPaymentsContactInfoExtensionStoreBase2(a);case i.CONTACT_NAME_LOADED:b("FBPaymentsDispatcher").waitFor([this.__getContactInfoStore().getDispatchToken()]);c=this.__getContactInfoStore().get(b("FBPaymentsContactInfoTypes").NAME).getValueEnforcing().first();c=a.setDefaultContactName(c);return this.maybeRestoreContactNameFromQueryData(c);case i.CONTACT_NAME_ERROR:b("FBPaymentsDispatcher").waitFor([this.__getContactInfoStore().getDispatchToken()]);c=a.setDefaultContactName("");return this.maybeRestoreContactNameFromQueryData(c);case i.CONTACT_EMAILS_LOADED:b("FBPaymentsDispatcher").waitFor([this.__getContactInfoStore().getDispatchToken()]);c=this.__getContactInfoStore().get(b("FBPaymentsContactInfoTypes").EMAIL).getValueEnforcing();c=a.initializeContactEmails(c);return this.maybeRestoreContactEmailFromQueryData(c);case i.CONTACT_EMAILS_ERROR:b("FBPaymentsDispatcher").waitFor([this.__getContactInfoStore().getDispatchToken()]);return a.initializeContactEmails(b("immutable").List());case i.CONTACT_EMAIL_SAVED:return a.selectNewSavedEmail(d.email,d.id);case i.CONTACT_PHONE_NUMBERS_LOADED:b("FBPaymentsDispatcher").waitFor([this.__getContactInfoStore().getDispatchToken()]);c=this.__getContactInfoStore().get(b("FBPaymentsContactInfoTypes").PHONE_NUMBER).getValueEnforcing();c=a.initializeContactPhoneNumbers(c);return this.maybeRestoreContactPhoneFromQueryData(c);case i.CONTACT_PHONE_NUMBERS_ERROR:b("FBPaymentsDispatcher").waitFor([this.__getContactInfoStore().getDispatchToken()]);return a.initializeContactPhoneNumbers(b("immutable").List());case i.CONTACT_PHONE_NUMBER_SAVED:return a.selectNewSavedPhoneNumber(d.intlNumberWithPlus,d.formattedIntlNumberWithPlus,d.id);case i.SET_PREFILLED_DATA:return a.prefillData(d);default:return a}};d.$FBPaymentsContactInfoExtensionStoreBase1=function(a,b){var c=b.updateData;switch(b.extensionActionType){case i.CONTACT_INFO_TYPES_CHANGED:return a.setRequiredContactInfo(c.contactInfoTypes);case i.CONTACT_NAME_UPDATED:return a.setContactNameInput(c.contactName,c.validationResult);case i.CONTACT_EMAIL_UPDATED:return a.setEmailInput(c.newContactEmail,c.validationResult);case i.CONTACT_PHONE_NUMBER_UPDATED:return a.setPhoneNumberInput(c.newContactPhoneNumber,c.validationResult)}return a};d.$FBPaymentsContactInfoExtensionStoreBase2=function(a){var c,d,e;b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);var f=b("FBPaymentsCheckoutConfigurationStore").getContactInfoExtensionConfig();c=(c=f==null?void 0:(c=f.contactInfoData)==null?void 0:(c=c.name)==null?void 0:c.full_name)!=null?c:"";d=(d=f==null?void 0:(d=f.contactInfoData)==null?void 0:(d=d.emails)==null?void 0:d.available_emails)!=null?d:[];e=(e=f==null?void 0:(e=f.contactInfoData)==null?void 0:(e=e.phones)==null?void 0:e.available_phones)!=null?e:[];var g=b("immutable").List(),h=b("immutable").List();for(var d=d,i=Array.isArray(d),j=0,d=i?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=d.length)break;k=d[j++]}else{j=d.next();if(j.done)break;k=j.value}k=k;g=g.push(k)}for(var k=e,j=Array.isArray(k),i=0,k=j?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(j){if(i>=k.length)break;d=k[i++]}else{i=k.next();if(i.done)break;d=i.value}e=d;h=h.push(e)}i=f==null?void 0:(d=f.contactInfoData)==null?void 0:(e=d.disclaimer)==null?void 0:e.text;a=a.setDefaultContactName(c).initializeContactEmails(g).initializeContactPhoneNumbers(h).initializeDisclaimer(i);a=this.maybeRestoreContactNameFromQueryData(a);a=this.maybeRestoreContactEmailFromQueryData(a);a=this.maybeRestoreContactPhoneFromQueryData(a);return a};d.isInitialized=function(){var a=this.getState(),b=!0;a.isContactNameRequired&&(b=b&&a.isContactNameInitialized);a.isContactEmailRequired&&(b=b&&a.isContactEmailInitialized);a.isContactPhoneRequired&&(b=b&&a.isContactPhoneInitialized);return b};d.hasInitializationError=function(){return!1};d.isReady=function(){var a=this.getState(),b=!0;a.isContactNameRequired&&(b=b&&!!a.contactName&&a.isNewContactNameValid);b&&a.isContactEmailRequired&&(b=!!a.selectedContactEmail||!!a.newContactEmail&&a.isNewContactEmailValid);b&&a.isContactPhoneRequired&&(b=!!a.selectedContactPhoneNumber||!!a.newContactPhoneNumber&&a.isNewContactPhoneNumberValid);return b};d.getData=function(){var a=this.getState(),b,c,d,e;a.isContactNameRequired&&a.contactName&&a.isNewContactNameValid&&(b=a.contactName);a.isContactEmailRequired&&(a.selectedContactEmail&&(c=a.selectedContactEmail.normalized_email_address,d=a.selectedContactEmail.id));a.isContactPhoneRequired&&(a.selectedContactPhoneNumber&&(e=a.selectedContactPhoneNumber.id));return{name:b,email:c,emailID:d,phoneNumberID:e}};d.getUserFacingError=function(){return null};d.getPartialCheckoutRestoreData=function(){var a,b=this.getData();b=(a={},a[h.CONTACT_INFO_NAME]=b.name,a[h.CONTACT_INFO_EMAIL_ID]=b.emailID,a[h.CONTACT_INFO_PHONE_NUMBER_ID]=b.phoneNumberID,a);return b};d.maybeRestoreContactNameFromQueryData=function(a){var b=this.getCurrentURIQueryData();b=b[h.CONTACT_INFO_NAME];return b?a.set("contactName",b):a};d.maybeRestoreContactEmailFromQueryData=function(a){var b=this.getCurrentURIQueryData();b=b[h.CONTACT_INFO_EMAIL_ID];return b?a.selectEmail(b):a};d.maybeRestoreContactPhoneFromQueryData=function(a){var b=this.getCurrentURIQueryData();b=b[h.CONTACT_INFO_PHONE_NUMBER_ID];return b?a.selectPhoneNumber(b):a};d.needsPrePaymentVerification=function(){return!1};return c}(b("FBPaymentsCheckoutExtensionStore"));e.exports=a}),null);
__d("FBPaymentsPaymentMethodSelectorExtensionState",["immutable"],(function(a,b,c,d,e,f){"use strict";b("immutable").Map;a={affirmCredentialID:null,billingCountry:null,checkoutRestoreData:{},connectPayPalURL:null,convertPayPalError:null,creditCardVerificationData:{},extensionUserFacingError:null,fetchError:!1,isConvertingPayPal:!1,isCreditCardVerificationDataValid:!1,isInitialized:!1,isLoading:!1,isNUXInlineCardFormMode:!1,isNUXInlineCardFormSavingCreditCard:!1,isPUXInlineCardFormMode:!1,isPUXNewPaymentOptionTabEnabled:!1,isSaving:!1,isURIReturnedFromCancelPayPal:!1,needVerification:!1,newCredentialID:null,newPaymentOptionData:null,onlyShowFirstExistingPaymentMethod:!1,paymentItemType:null,paymentMethodsInfo:null,paymentMethodsFrictionAttemptsInfo:null,receiverCountry:null,saveErrors:null,selectedBank:null,selectedBillingCountry:null,selectedNewPaymentOptionType:null,selectedPaymentMethod:null,selectedPaymentMethodID:null,selectedPaymentMethodOrNewPaymentOption:null,selectedSecondaryPaymentMethod:null,shouldVerifyCSC:!1,showHardError:!1,verificationData:null};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.setPaymentMethodsInfo=function(a){return this.set("paymentMethodsInfo",a)};c.setPaymentMethodsFrictionAttemptsInfo=function(a){return this.set("paymentMethodsFrictionAttemptsInfo",a)};c.setFetchError=function(){return this.set("isInitialized",!1).set("fetchError",!0)};c.setConnectPayPalURL=function(a){return this.set("connectPayPalURL",a)};c.setNeedVerification=function(a){return this.set("needVerification",a)};c.setSelectedBank=function(a){return this.set("selectedBank",a)};c.setSelectedBillingCountry=function(a){return this.set("selectedBillingCountry",a)};c.setSelectedPaymentMethod=function(a){return this.set("selectedPaymentMethod",a)};c.setSelectedPaymentMethodID=function(a){return this.set("selectedPaymentMethodID",a)};c.setSelectedPaymentMethodOrNewPaymentOption=function(a){return this.set("selectedPaymentMethodOrNewPaymentOption",a)};c.setSelectedSecondaryPaymentMethod=function(a){return this.set("selectedSecondaryPaymentMethod",a)};c.setIsLoading=function(a){return this.set("isLoading",a)};c.setIsSaving=function(a){return this.set("isSaving",a)};c.setNewCredentialID=function(a){return this.set("newCredentialID",a)};c.setNewPaymentOptionData=function(a){return this.set("newPaymentOptionData",a)};c.setReceiverCountry=function(a){return this.set("receiverCountry",a)};c.setSaveErrors=function(a){return this.set("saveErrors",a)};c.setSelectedNewPaymentOptionType=function(a){return this.set("selectedNewPaymentOptionType",a)};c.setIsNUXInlineCardFormSavingCreditCard=function(a){return this.set("isNUXInlineCardFormSavingCreditCard",a)};c.setNewCredentialIDewPaymentOptionData=function(a){return this.set("newPaymentOptionData",a)};c.setIsConvertingPayPal=function(a){return this.set("isConvertingPayPal",a)};c.setConvertPayPalError=function(a){return this.set("convertPayPalError",a)};c.setShouldVerifyCSC=function(a){return this.set("shouldVerifyCSC",a)};c.setBillingCountry=function(a){return this.set("billingCountry",a)};c.setPaymentMethodInfo=function(a){return this.set("paymentMethodsInfo",a)};c.setIsNUXInlineCardFormMode=function(a){return this.set("isNUXInlineCardFormMode",a)};c.setIsPUXInlineCardFormMode=function(a){return this.set("isPUXInlineCardFormMode",a)};c.setIsPUXNewPaymentOptionTabEnabled=function(a){return this.set("isPUXNewPaymentOptionTabEnabled",a)};c.setIsInitialized=function(a){return this.set("isInitialized",a)};c.setCheckoutRestoreData=function(a){return this.set("checkoutRestoreData",a)};c.setCreditCardVerificationData=function(a){return this.set("creditCardVerificationData",a)};c.setIsCreditCardVerificationDataValid=function(a){return this.set("isCreditCardVerificationDataValid",a)};c.setPaymentItemType=function(a){return this.set("paymentItemType",a)};c.setVerificationData=function(a){return this.set("verificationData",a)};c.maybeSetExtensionUserFacingError=function(a){return a&&a.errorCode?this.set("extensionUserFacingError",a):this};c.clearExtensionUserFacingError=function(){return this.set("extensionUserFacingError",null)};c.setShowOnlyFirstPaymentMethod=function(a){return this.set("onlyShowFirstExistingPaymentMethod",a)};c.setAffirmCredentialID=function(a){return this.set("affirmCredentialID",a)};return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FBPaymentsPaymentMethodSelectorExtensionStoreBase",["AllPaymentTypeFields","FBLogger","FBPayments3DS","FBPaymentsAffirmMonthlyPayment","FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCheckoutHelper","FBPaymentsCreditCard","FBPaymentsDispatcher","FBPaymentsLinkHelper","FBPaymentsModulesAPIShared","FBPaymentsModulesAPIUtils","FBPaymentsNewPaymentOptionTypes","FBPaymentsPaymentMethodActions","FBPaymentsPaymentMethodSelectorExtensionState","FBPaymentsPaymentMethodsInfo","FBPaymentsPaymentMethodTypes","FBPaymentsPayPalBillingAgreement","FBPaymentsPayPalBillingAgreementTypes","FluxReduceStore","abstractMethod","gkx","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").Map,h=b("FBPaymentsPaymentMethodActions").types,i=b("FBPaymentsCheckoutConstants").Extensions;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("FBPaymentsDispatcher"))||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBPaymentsPaymentMethodSelectorExtensionState"))()};d.__getPaymentMethodStore=function(){return b("abstractMethod")("FBPaymentsPaymentMethodSelectorExtensionStoreBase","__getPaymentMethodStore")};d.__getAPI=function(){return b("abstractMethod")("FBPaymentsPaymentMethodSelectorExtensionStoreBase","__getAPI")};d.__connectPayPal=function(a){return b("abstractMethod")("FBPaymentsPaymentMethodSelectorExtensionStoreBase","__connectPayPal")};d.__connectAffirm=function(a){return b("abstractMethod")("FBPaymentsPaymentMethodSelectorExtensionStoreBase","__connectAffirm")};d.getExtensionName=function(){return i.PAYMENT_METHOD};d.reduce=function(a,c){var d,e=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsCheckoutActions").types.INITIALIZE_CHECKOUT:d=c==null?void 0:(d=c.data)==null?void 0:d.paymentType;c=c==null?void 0:(c=c.data)==null?void 0:c.receiverCountry;return a.setPaymentItemType(d).setReceiverCountry(c);case b("FBPaymentsCheckoutActions").types.EXTENSION_UPDATE:return e.extensionName===this.getExtensionName()?this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase1(a,e):a;case b("FBPaymentsCheckoutActions").types.REQUEST_ACTIVE_EXTENSION_FOR_VERIFICATION:return e.extensionName===this.getExtensionName()&&!e.active?a.setConvertPayPalError(null).setSaveErrors(null).clearExtensionUserFacingError():a;case b("FBPaymentsCheckoutActions").types.UPDATE_CHECKOUT_INFO:return this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase2(a);case h.PAYMENT_METHODS_LOADED:b("FBPaymentsDispatcher").waitFor([this.__getPaymentMethodStore().getDispatchToken()]);return this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase3(a,e);case h.PAYMENT_METHODS_ERROR:b("FBPaymentsDispatcher").waitFor([this.__getPaymentMethodStore().getDispatchToken()]);return a.setFetchError();case h.CONNECT_PAYPAL:this.__connectPayPal(e);break;case h.CONNECT_AFFIRM:var f=(d=a)!=null?(d=d.paymentMethodsInfo)!=null?d.accountID:d:d;c=function(a){a=a.checkout_token;a={payment_account_id:f,checkout_token:a};b("FBPaymentsModulesAPIShared").createAffirmCredentialIDRelayGraphQL(a,e.onAuthorizeSuccess,e.onError)};d={affirmCheckoutObject:e.affirmCheckoutObject,checkoutExtraProps:e.checkoutExtraProps,paymentAccountID:f,checkoutConfig:e.checkoutConfig,onSuccess:c,onCancel:e.onCancel,onError:e.onError};this.__connectAffirm(d);break}return a};d.isInitialized=function(){var a=this.getState();return a.isInitialized};d.hasInitializationError=function(){var a=this.getState();return a.fetchError};d.isReady=function(){var a=!1,b=this.getState();b.selectedPaymentMethodOrNewPaymentOption&&b.selectedPaymentMethodOrNewPaymentOption.type==="newPaymentOption"||b.isNUXInlineCardFormMode?a=this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase4(b.selectedNewPaymentOptionType,b.newPaymentOptionData):this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase5(b)&&(a=!0);return a};d.getData=function(){var a,c=this.getState(),d={newPaymentOptionType:c.selectedNewPaymentOptionType,selectedBillingCountry:c.selectedBillingCountry,paymentMethod:c.selectedPaymentMethod,paymentMethodID:c.selectedPaymentMethodID,secondaryPaymentMethod:c.selectedSecondaryPaymentMethod};a=c.verificationData?c.verificationData.csc:c==null?void 0:(a=c.creditCardVerificationData)==null?void 0:a.csc;this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase5(c)&&(d=babelHelpers["extends"]({bank:c.selectedBank,csc:a},d));if(c.selectedNewPaymentOptionType===b("FBPaymentsNewPaymentOptionTypes").NEW_ALT_PAY){var e=(a=c.selectedPaymentMethodOrNewPaymentOption)!=null?a.id:a;a=(a=c.paymentMethodsInfo)!=null?a.newPaymentOptions:a;a=e&&a&&a.find(function(a){return a.altPayID===e});c=(c=c.newPaymentOptionData)==null?void 0:(c=c.data)==null?void 0:(c=c.parsed)==null?void 0:c.internationalNumberWithPlus;a=a&&{fee:a.fee,pricepoint_id:a.pricepointID,payment_provider:a.paymentProvider,msisdn:c};d=babelHelpers["extends"]({},d,{altPayData:a})}return d};d.getUserFacingError=function(){return this.getState().extensionUserFacingError};d.getPartialCheckoutRestoreData=function(){return{}};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase6=function(a,b,c,d,e){d={ccNumberBin:d,credentialId:a,ccCountryCode:b,itemType:e,accountCurrency:c};return d};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase1=function(a,c){var d=c.updateData;switch(c.extensionActionType){case h.EXISTING_PAYMENT_METHODS_CLICK:c=d.paymentMethod;if(c.type===b("FBPaymentsPaymentMethodTypes").CREDIT_CARD){a=a.setSelectedBillingCountry(c.countryCode);if(b("FBPaymentsCheckoutHelper").shouldUse3DS2Flow(a.paymentItemType,a.receiverCountry)){var e;e=this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase6(c.id,c.countryCode,((e=a.paymentMethodsInfo)==null?void 0:e.currency)||"",null,a.paymentItemType||"UNKNOWN");this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase7(e)}}return a.setNeedVerification(this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase8(c)).setSelectedBank(null).setSelectedNewPaymentOptionType(null).setSelectedPaymentMethod(c).setSelectedPaymentMethodID(c.id).setSelectedPaymentMethodOrNewPaymentOption({id:c.id,type:"paymentMethod"});case h.SECONDARY_PAYMENT_METHOD_CHECKBOX_CLICK:return a.setSelectedSecondaryPaymentMethod(d.paymentMethod);case h.BANK_CLICK:return a.setSelectedBank(d.selectedBank);case h.NEW_PAYMENT_OPTION_SAVED:return a.setSelectedBank(null).setSelectedPaymentMethod(null).setSelectedPaymentMethodID(null).setSelectedPaymentMethodOrNewPaymentOption(null).setIsLoading(!0).setIsSaving(!1).setNewCredentialID(d.newCredentialID).setNewPaymentOptionData(null);case h.NEW_PAYMENT_OPTION_SAVED_ERROR:return a.setIsSaving(!1).setSaveErrors(d.saveErrors);case h.CANCEL_SAVE_NEW_PAYMENT_OPTION:return a.setIsSaving(!1);case h.NEW_PAYMENT_OPTION_CLICK:return a.setSelectedNewPaymentOptionType(d.selectedNewPaymentOptionType).setSelectedPaymentMethodOrNewPaymentOption({id:(e=d.altPayID)!=null?e:d.selectedNewPaymentOptionType,type:"newPaymentOption"}).setSelectedPaymentMethod(null).setSelectedPaymentMethodID(null).setNeedVerification(!1);case h.SAVE_CREDIT_CARD_CHECKBOX_CLICK:return a.setIsNUXInlineCardFormSavingCreditCard(d.isNUXInlineCardFormSavingCreditCard);case h.NEW_PAYMENT_OPTION_FORM_DATA_UPDATED:c=d.newPaymentOptionData;if(c.newPaymentOptionType===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD){e=(e=c)!=null?(e=e.data)!=null?e.country:e:e;a=a.setSelectedBillingCountry(e||a.selectedBillingCountry)}if(b("FBPaymentsCheckoutHelper").shouldUse3DS2Flow(a.paymentItemType,a.receiverCountry)&&c.newPaymentOptionType===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD){var f;e=b("FBPayments3DS").getBinNumberFromCreditCard(c.data.creditCardNumber);f=b("FBPayments3DS").getBinNumberFromCreditCard(((f=a.newPaymentOptionData)==null?void 0:f.data.creditCardNumber)||"");if(e!==null&&e!==f){f=this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase6(null,a.selectedBillingCountry||"",((f=a.paymentMethodsInfo)==null?void 0:f.currency)||"",e,a.paymentItemType||"UNKNOWN");this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase7(f)}}return a.setNewPaymentOptionData(c);case h.CONVERT_PAYPAL_BA_TO_CIB_ERROR:return a.setIsConvertingPayPal(!1).setConvertPayPalError(d.convertPayPalError).maybeSetExtensionUserFacingError(d.convertPayPalError);case h.SET_SHOULD_VERIFY_CSC:return a.setShouldVerifyCSC(d.shouldVerifyCSC);case h.CANCEL_ACTIVE_STATE_CLICK:return a.setNewPaymentOptionData(d.newPaymentOptionData).setSaveErrors(null);case h.CREDIT_CARD_VERIFICATION_FORM_VALIDATION:return a.setCreditCardVerificationData(d.creditCardVerificationData).setIsCreditCardVerificationDataValid(d.isCreditCardVerificationDataValid);case h.BEFORE_CONVERT_PAYPAL_BA_TO_CIB:return a.setIsConvertingPayPal(!0).setConvertPayPalError(null).clearExtensionUserFacingError();case h.CONVERT_PAYPAL_BA_TO_CIB_V2:e=a.selectedPaymentMethod&&a.selectedPaymentMethod.set(b("FBPaymentsPayPalBillingAgreement").MutableProperties.BA_TYPE,b("FBPaymentsPayPalBillingAgreementTypes").CIB).set(b("FBPaymentsPayPalBillingAgreement").MutableProperties.CIB_CONVERSION_NEEDED,!1);return a.setSelectedPaymentMethod(e).setNeedVerification(!1).setVerificationData({verified:!0}).setIsConvertingPayPal(!1).setConvertPayPalError(null).clearExtensionUserFacingError();case h.CLEAR_SAVE_ERRORS:return a.setSaveErrors(null);case h.UPDATE_VERIFICATION_DATA:return a.setVerificationData(d.verificationData);case h.SELECT_SAVED_NEW_PAYMENT_OPTIONS:return a.setSelectedPaymentMethod(d).setSelectedPaymentMethodID(d.id).setSelectedPaymentMethodOrNewPaymentOption({id:d.id,type:"paymentMethod"});case h.SET_FAKE_SELECTED_PAYMENT_METHOD:return a.setSelectedPaymentMethod({selectedPaymentMethod:new(b("FBPaymentsCreditCard"))({id:0})});case h.BEFORE_SAVE_NEW_PAYMENT_OPTIONS:return a.setSaveErrors(null).setIsSaving(!0);case h.COMPLETE_CREDIT_CARD_VERIFICATION:return a.setIsSaving(!1).setVerificationData(d.verificationData);case h.UPDATE_CREDIT_CARD_ERROR:return this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase9(a,d.saveErrors);case h.BEFORE_UPDATE_CREDIT_CARD:return a.setSaveErrors(null).setIsSaving(!0).setVerificationData({verified:!1});case h.ONLY_SHOW_FIRST_PAYMENT_OPTION:return a.setShowOnlyFirstPaymentMethod(d.onlyShowFirstExistingPaymentMethod);case h.SET_AFFIRM_CREDENTIAL_ID:return a.setAffirmCredentialID(d)}return a};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase3=function(a,b){var c=this.__getPaymentMethodStore().makeImmutableKey(b.requestData);c=this.__getPaymentMethodStore().get(c);a=a.setIsLoading(c.isLoading());c=c.getValueEnforcing();return this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase10(a,c,b.requestData)};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase10=function(a,c,d){var e=c.paymentMethods,f=c.secondaryPaymentMethods.first(),g=c.newPaymentOptions,h=e.size===0,i=!h,j=g.find(function(a){return a.type===b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL})||{},k=c.billingCountry;a=a.setPaymentMethodsInfo(c).setPaymentMethodsFrictionAttemptsInfo(this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase11(e)).setBillingCountry(k).setSelectedBillingCountry(a.selectedBillingCountry||k).setIsNUXInlineCardFormMode(h).setIsPUXInlineCardFormMode(i).setIsPUXNewPaymentOptionTabEnabled(i).setConnectPayPalURL(j.url).setIsInitialized(!0);f&&(a=a.setSelectedSecondaryPaymentMethod(f));if(a.newCredentialID){c=e.find(function(b){return b.id===a.newCredentialID});if(c){a=a.setSelectedBank(null).setSelectedPaymentMethod(c).setSelectedPaymentMethodID(c.id).setSelectedBillingCountry(((h=c)!=null?h.countryCode:h)||k).setNewCredentialID(null).setNeedVerification(this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase8(c))}}else if(!a.selectedPaymentMethod){i=d.affirmCredentialID;if(i){a=a.setSelectedPaymentMethod(new(b("FBPaymentsAffirmMonthlyPayment"))({id:i})).setSelectedPaymentMethodID(i).setSelectedPaymentMethodOrNewPaymentOption({id:i,type:"paymentMethod"});return a}j=b("FBPaymentsLinkHelper").isCurrentURIReturnedFromPaypal();a=a.set("isURIReturnedFromCancelPayPal",b("FBPaymentsLinkHelper").isCurrentURIReturnedFromCancelPaypal());f=b("FBPaymentsLinkHelper").isCurrentURIReturnedFromVerifiedPaypal();h=b("FBPaymentsLinkHelper").shouldEnablePaypal();var l=b("FBPaymentsLinkHelper").getPaymentMethodId();c=e.find(function(a){return a.isSelected});d=g.find(function(a){return a.isSelected});j||h?i=e.findLast(function(a){return a.getType()===b("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT}):f?i=e.findLast(function(a){return a.getID()===l}):i=c;j=e.first();if(i){a=a.setSelectedBank(null).setSelectedPaymentMethod(i).setSelectedPaymentMethodID(i.id).setSelectedBillingCountry(((h=i)!=null?h.countryCode:h)||k).setNeedVerification(this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase8(i)).setSelectedPaymentMethodOrNewPaymentOption({id:i.id,type:"paymentMethod"})}else if(d){c=(f=d.altPayID)!=null?f:d.type;a=a.setSelectedNewPaymentOptionType(d.type).setSelectedPaymentMethodOrNewPaymentOption({id:c,type:"newPaymentOption"})}else if(j){a=a.setSelectedBank(null).setSelectedPaymentMethod(j).setSelectedPaymentMethodID(j.id).setSelectedBillingCountry(((e=j)!=null?e.countryCode:e)||k).setNeedVerification(this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase8(j)).setSelectedPaymentMethodOrNewPaymentOption({id:j.id,type:"paymentMethod"})}else{h=g.first();h&&(a=a.setSelectedNewPaymentOptionType(h.type).setSelectedPaymentMethodOrNewPaymentOption({id:h.type,type:"newPaymentOption"}))}if(b("FBPaymentsCheckoutHelper").shouldUse3DS2Flow(a.paymentItemType,a.receiverCountry)&&((i=a.selectedPaymentMethod)==null?void 0:i.type)===b("FBPaymentsPaymentMethodTypes").CREDIT_CARD){e=this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase6(((f=a.selectedPaymentMethod)==null?void 0:f.id)||"",((d=a.selectedPaymentMethod)==null?void 0:d.countryCode)||"",((c=a.paymentMethodsInfo)==null?void 0:c.currency)||"",null,a.paymentItemType||"");this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase7(e)}}return a};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase11=function(a){var c=g();a.forEach(function(a){if((a==null?void 0:a.type)!==b("FBPaymentsPaymentMethodTypes").CREDIT_CARD)return;var d=a.getVerifyCvvFieldsAttempt();if(!d)return;c=c.set(a.id,d)});return c};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase12=function(a,b){if(!a||!b)return g();var c=b.get(a);if(!c)return b;c.numberOfAttempts+=1;b=b.set(a,c);return b};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase9=function(a,c){a=a.setIsSaving(!1).setSaveErrors(c).setPaymentMethodsFrictionAttemptsInfo(this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase12(a.selectedPaymentMethodID,a.paymentMethodsFrictionAttemptsInfo));c=(c=a.paymentMethodsInfo)==null?void 0:c.newPaymentOptions;b("gkx")("1159929")&&this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase13(a.selectedPaymentMethodID,a.paymentMethodsFrictionAttemptsInfo)&&c&&c.some(function(a){return a.type===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD})&&(a=a.setSelectedBank(null).setSelectedNewPaymentOptionType(b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD).setSelectedPaymentMethodOrNewPaymentOption({id:b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD,type:"newPaymentOption"}).setSelectedPaymentMethod(null).setSelectedPaymentMethodID(null).setNeedVerification(!1));return a};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase13=function(a,b){if(!a||!b)return!1;b=b.get(a);return!b?!1:b.numberOfAttempts>=b.numberOfMaxTry};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase7=function(a){b("promiseDone")(b("FBPayments3DS").getCardPaymentMethodInfo(a),function(a){},function(a){})};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase2=function(a){var c;b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);var d=b("FBPaymentsCheckoutConfigurationStore").getPaymentMethodExtensionConfig();c=(c=d==null?void 0:(c=d.paymentMethodData)==null?void 0:c.available_payment_credential_options)!=null?c:[];var e=[],f=[];c.map(function(a){var c=a.payment_credential_option,d=a.is_selected;a=a.onboarding_bubble;c=babelHelpers["extends"]({},c,{is_selected:d,onboarding_bubble:a});switch(c.credential_type){case b("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT_FROM_GRAPHQL:case b("FBPaymentsPaymentMethodTypes").CREDIT_CARD_FROM_GRAPHQL:case b("FBPaymentsPaymentMethodTypes").DUMMY_PAYMENT_METHOD_FROM_GRAPHQL:e.push(c);break;case b("FBPaymentsPaymentMethodTypes").GIFTCARD_BALANCE_FROM_GRAPHQL:e.push(c);break;case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD_FROM_GRAPHQL:case b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL_FROM_GRAPHQL:case b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM_FROM_GRAPHQL:case b("FBPaymentsNewPaymentOptionTypes").NEW_ALT_PAY_FROM_GRAPHQL:f.push(c);break;default:b("FBLogger")("purchase_experience").warn("Unsupported payment option: %s",c.credential_type)}});c=b("FBPaymentsModulesAPIUtils").parseAddressFormConfig(d==null?void 0:(c=d.paymentMethodData)==null?void 0:c.addressFormConfig);d=new(b("FBPaymentsPaymentMethodsInfo"))({accountID:"",addressFormConfig:c,paymentMethods:e,billingCountry:(c=d==null?void 0:(c=d.paymentMethodData)==null?void 0:(c=c.userInfo)==null?void 0:c.geo_country)!=null?c:"",currency:(c=d==null?void 0:(c=d.paymentMethodData)==null?void 0:(d=c.userInfo)==null?void 0:d.currency)!=null?c:"",newPaymentOptions:f});return this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase10(a,d,{affirmCredentialID:a.affirmCredentialID})};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase5=function(a){if(a.isSaving)return!1;var c=a.paymentMethodsInfo;if(!c)return!1;c=a.selectedPaymentMethod;if(!c)return!1;if(a.needVerification&&!a.isCreditCardVerificationDataValid)return!1;c=c.type||"";c=c===b("FBPaymentsPaymentMethodTypes").NET_BANKING;if(c&&!a.selectedBank)return!1;c=a.verificationData?a.verificationData.csc:a==null?void 0:(c=a.creditCardVerificationData)==null?void 0:c.csc;return a.shouldVerifyCSC&&a.paymentItemType===b("AllPaymentTypeFields").NMOR_DONATION_P4C&&!c?!1:!0};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase4=function(a,c){switch(a){case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:case b("FBPaymentsNewPaymentOptionTypes").NEW_ALT_PAY:return!!c&&c.isValid;default:return!0}};d.needsPrePaymentVerification=function(){var a=!1,c=this.getState();if(!c.selectedPaymentMethod)return!1;c=c.selectedPaymentMethod;c.type===b("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT&&(a=c.cibConversionNeeded);return a};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase8=function(a){var c=!1;if(a.type===b("FBPaymentsPaymentMethodTypes").CREDIT_CARD){var d=this.$FBPaymentsPaymentMethodSelectorExtensionStoreBase14(a);c=d.length!==0||(a==null?void 0:a.isSoftDisabled)}return c};d.$FBPaymentsPaymentMethodSelectorExtensionStoreBase14=function(a){if(!a)return[];var c=this.getState();c=c.shouldVerifyCSC;switch(a.type){case b("FBPaymentsPaymentMethodTypes").CREDIT_CARD:a=new Set(a.getVerifyFields());c&&a.add("csc");return Array.from(a);default:return[]}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=a}),null);
__d("FBPaymentsPaymentMethodStoreBase",["FBPaymentsCheckoutActions","FBPaymentsDispatcher","FBPaymentsModulesAPIShared","FBPaymentsPaymentMethodActions","FBPaymentsPaymentMethodsInfo","FBPaymentsPayPalBillingAgreement","FBPaymentsPayPalBillingAgreementTypes","FluxLoadObjectStore","immutable","abstractMethod","gkx"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("FBPaymentsDispatcher"))||this;c.$FBPaymentsPaymentMethodStoreBase1=null;return c}var d=c.prototype;d.reduce=function(a,c){var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsPaymentMethodActions").types.FETCH_PAYMENT_METHODS:c=this.makeImmutableKey(d);var e=this.getCached(c);if(e.isEmpty()){this.get(d);return a}else{this.__load(c);return this.__setUpdating(a,[c])}case b("FBPaymentsPaymentMethodActions").types.PAYMENT_METHODS_LOADED:c=this.makeImmutableKey(d.requestData);return this.__handleOne(a,c,d.paymentMethodsInfo);case b("FBPaymentsPaymentMethodActions").types.PAYMENT_METHODS_ERROR:c=this.makeImmutableKey(d.requestData);return this.__handleOne(a,c,d.error);case b("FBPaymentsPaymentMethodActions").types.CONVERT_PAYPAL_BA_TO_CIB:c=this.makeImmutableKey(d.key);e=this.getCached(c);var f=e.getValueEnforcing(),g=f.paymentMethods;g=g.update(g.findIndex(function(a){return a.id===d.payPalBAID}),function(a){return a.set(b("FBPaymentsPayPalBillingAgreement").MutableProperties.BA_TYPE,b("FBPaymentsPayPalBillingAgreementTypes").CIB)});f=f.set(b("FBPaymentsPaymentMethodsInfo").MutableProperties.PAYMENT_METHODS,g);e=e.setValue(f);return a.set(c,e);default:return a}};d.makeImmutableKey=function(a){return b("immutable").fromJS(a)};d.get=function(b,c){this.$FBPaymentsPaymentMethodStoreBase1=c;c=this.makeImmutableKey(b);return a.prototype.get.call(this,c)};d.__load=function(a){a=a.toJS();a.isGuestCheckout?b("FBPaymentsModulesAPIShared").fetchPaymentMethodsInfoRelayGraphQL(a,this.$FBPaymentsPaymentMethodStoreBase1):b("gkx")("676862")?b("FBPaymentsModulesAPIShared").fetchPaymentMethodsInfoGraphQL(a):this.__getAPI().fetchPaymentMethodsInfo(a,this.$FBPaymentsPaymentMethodStoreBase1)};d.__getAPI=function(){return b("abstractMethod")("FBPaymentsPaymentMethodStoreBase","__getAPI")};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=a}),null);
__d("FBPaymentsShippingAddressExtensionState",["FBPaymentsMailingAddress","immutable"],(function(a,b,c,d,e,f){"use strict";a={addressFormConfig:null,addressFormConfigFetchErrors:null,editedAddressCounter:0,enteredAddress:null,extensionUserFacingError:null,isExtensionHidden:!1,isMailingAddressListInitialized:!1,isNewAddressValid:!1,isSaving:!1,mailingAddresses:b("immutable").List(),newAddress:null,saveErrors:null,selectedAddress:null,selectedEditAddress:null,suggestedAddress:null,showForm:!1,userGeoCountry:null};c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.initializeMailingAddresses=function(a){var b=a.filter(function(a){return a.isDefault}).first();b||(b=a.first());return this.set("mailingAddresses",a).set("selectedAddress",b).set("isMailingAddressListInitialized",!0)};d.setSuggestedAddress=function(a){return this.set("suggestedAddress",a).set("enteredAddress",b("FBPaymentsMailingAddress").fromFormData(this.newAddress))};d.setSuggestedAddressCleared=function(){return this.set("suggestedAddress",null).set("newAddress",this.enteredAddress!=null?this.enteredAddress.toFormData():null)};d.setSelectedEditMailingAddress=function(a){a=this.$FBPaymentsShippingAddressExtensionState1(a);return this.set("selectedEditAddress",a)};d.setSelectedMailingAddress=function(a){a=this.$FBPaymentsShippingAddressExtensionState1(a);return this.set("selectedAddress",a)};d.addSavedMailingAddress=function(a){var b=this.$FBPaymentsShippingAddressExtensionState2(a.id);return b<0?this.set("mailingAddresses",this.mailingAddresses.push(a)).set("selectedAddress",a):this.set("mailingAddresses",this.mailingAddresses.set(b,a)).set("selectedAddress",a).set("editedAddressCounter",this.editedAddressCounter+1)};d.maybeSetSelectedEditMailingAddress=function(a,b){return!a||!b?this.set("selectedEditAddress",null):this.setSelectedEditMailingAddress(b)};d.maybeSetExtensionUserFacingError=function(a){return a&&a.errorCode?this.set("extensionUserFacingError",a):this};d.clearExtensionUserFacingError=function(){return this.set("extensionUserFacingError",null)};d.$FBPaymentsShippingAddressExtensionState1=function(a){return this.mailingAddresses.find(function(b){return b.id===a})};d.$FBPaymentsShippingAddressExtensionState2=function(a){return this.mailingAddresses.findIndex(function(b){return b.id===a})};return c}(b("immutable").Record(a));e.exports=c}),null);
__d("FundraiserDonationEmailCheckboxActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({CHECKBOX_TOGGLED:null,INITIALIZE_CHECKBOX:null});e.exports=a}),null);
__d("FBPaymentsShippingAddressExtensionStoreBase",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCheckoutExtensionStore","FBPaymentsContactInfoActions","FBPaymentsContactInfoTypes","FBPaymentsDispatcher","FBPaymentsMailingAddress","FBPaymentsModulesAPIUtils","FBPaymentsShippingAddressActions","FBPaymentsShippingAddressExtensionState","FundraiserDonationEmailCheckboxActionTypes","abstractMethod","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsCheckoutConstants").CustomExtensionKeys,h=b("FBPaymentsCheckoutConstants").Extensions,i=b("FBPaymentsCheckoutConstants").RestoreKey,j=b("FBPaymentsContactInfoActions").types,k=b("FBPaymentsShippingAddressActions").types;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("FBPaymentsDispatcher"))||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBPaymentsShippingAddressExtensionState"))()};d.getExtensionName=function(){return h.SHIPPING_ADDRESS};d.__getContactInfoStore=function(){return b("abstractMethod")("FBPaymentsContactInfoExtensionStoreBase","__getContactInfoStore")};d.reduce=function(a,c){var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsCheckoutActions").types.EXTENSION_UPDATE:return d.extensionName===this.getExtensionName()?this.$FBPaymentsShippingAddressExtensionStoreBase1(a,d):a;case b("FBPaymentsCheckoutActions").types.CUSTOM_EXTENSION_UPDATE:var e=(c==null?void 0:c.data)||{},f=e.extensionKey;e=e.extensionActionType;if(f===g.GIFT_AID_CHECKBOX&&e===b("FundraiserDonationEmailCheckboxActionTypes").CHECKBOX_TOGGLED){c=!!(c==null?void 0:(f=c.data)==null?void 0:(e=f.updateData)==null?void 0:e.isChecked);return a.set("isExtensionHidden",!c)}return a;case b("FBPaymentsCheckoutActions").types.UPDATE_CHECKOUT_INFO:return this.$FBPaymentsShippingAddressExtensionStoreBase2(a);case j.MAILING_ADDRESSES_LOADED:b("FBPaymentsDispatcher").waitFor([this.__getContactInfoStore().getDispatchToken()]);f=this.__getContactInfoStore().get(b("FBPaymentsContactInfoTypes").MAILING_ADDRESS).getValueEnforcing();e=a.initializeMailingAddresses(f);return this.maybeRestoreFromCurrentURI(e);case j.MAILING_ADDRESSES_ERROR:b("FBPaymentsDispatcher").waitFor([this.__getContactInfoStore().getDispatchToken()]);return a.initializeMailingAddresses(b("immutable").List());case k.TOGGLE_MAILING_ADDRESS_FORM:return a.set("showForm",d.showForm).set("newAddress",null).set("isNewAddressValid",!1).set("saveErrors",null).maybeSetSelectedEditMailingAddress(d.showForm,d.selectedEditAddressID).set("suggestedAddress",null).set("enteredAddress",null).clearExtensionUserFacingError();case k.NEW_MAILING_ADDRESS_FORM_DATA_CHANGE:return a.set("newAddress",d.newAddress).set("isNewAddressValid",d.isNewAddressValid);case k.CLEAR_SAVE_ERRORS:return a.set("saveErrors",null).clearExtensionUserFacingError();default:return a}};d.$FBPaymentsShippingAddressExtensionStoreBase1=function(a,b){var c=b.updateData;switch(b.extensionActionType){case k.MAILING_ADDRESS_EDIT_CANCELED:return a.set("isSaving",!1).set("showForm",!1).set("saveErrors",null).set("selectedEditAddress",null).set("suggestedAddress",null).set("enteredAddress",null);case k.MAILING_ADDRESS_EDIT_SELECTED:return a.setSelectedEditMailingAddress(c.selectedEditAddressID);case k.MAILING_ADDRESS_SELECTED:return a.setSelectedMailingAddress(c.selectedAddressID);case k.MAILING_ADDRESS_SUGGESTED:return a.set("isSaving",!1).setSuggestedAddress(c.suggestedAddress);case k.MAILING_ADDRESS_SUGGESTED_CLEARED:return a.setSuggestedAddressCleared();case k.MAILING_ADDRESS_ENTERED_CLEARED:return a.set("enteredAddress",null).set("suggestedAddress",null);case k.SAVE_MAILING_ADDRESS:return a.set("saveErrors",null).set("isSaving",!0).clearExtensionUserFacingError();case k.MAILING_ADDRESS_SAVED:b=c.newAddress;return a.addSavedMailingAddress(b).set("isSaving",!1).set("showForm",!1).set("selectedEditAddress",null).set("suggestedAddress",null).set("enteredAddress",null);case k.MAILING_ADDRESS_SAVE_ERROR:return a.set("saveErrors",c.error).set("isSaving",!1).maybeSetExtensionUserFacingError(c.error);case k.ADDRESS_FORM_CONFIG_FETCHED:return a.set("addressFormConfigFetchErrors",null).set("addressFormConfig",c.addressFormConfig).set("userGeoCountry",c.userGeoCountry);case k.ADDRESS_FORM_CONFIG_FETCH_ERROR:return a.set("addressFormConfigFetchErrors",c.error);case k.MAILING_ADDRESS_EXTENSION_HIDDEN_CHANGED:return a.set("isExtensionHidden",c.isHidden)}return a};d.$FBPaymentsShippingAddressExtensionStoreBase2=function(a){var c;b("FBPaymentsDispatcher").waitFor([b("FBPaymentsCheckoutConfigurationStore").getDispatchToken()]);var d=b("FBPaymentsCheckoutConfigurationStore").getShippingAddressExtensionConfig();c=(c=d==null?void 0:(c=d.shippingAddressData)==null?void 0:c.available_shipping_addresses)!=null?c:[];var e=b("immutable").List();for(var c=c,f=Array.isArray(c),g=0,c=f?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=c.length)break;h=c[g++]}else{g=c.next();if(g.done)break;h=g.value}h=h;e=e.push(b("FBPaymentsMailingAddress").fromJS(h))}g=d==null?void 0:(h=d.shippingAddressData)==null?void 0:h.address_form_config;f=b("FBPaymentsModulesAPIUtils").parseAddressFormConfig(g);g=d==null?void 0:(c=d.shippingAddressData)==null?void 0:(h=c.address_form_config)==null?void 0:h.default_country;var i=d==null?void 0:(c=d.shippingAddressData)==null?void 0:c.selected_shipping_address_id;h=e.filter(function(a){return a.id===i}).first();h||(h=e.first());d=a.set("mailingAddresses",e).set("selectedAddress",h).set("isMailingAddressListInitialized",!0).set("addressFormConfig",f).set("userGeoCountry",g);return this.maybeRestoreFromCurrentURI(d)};d.isInitialized=function(){var a=this.getState();return a.isExtensionHidden||a.isMailingAddressListInitialized&&!!a.addressFormConfig};d.hasInitializationError=function(){var a=this.getState();return!a.isExtensionHidden&&!!a.addressFormConfigFetchErrors};d.isReady=function(){var a=this.getState();return a.isExtensionHidden||!a.isSaving&&!!a.selectedAddress&&this.isInitialized()};d.getData=function(){var a,b=this.getState();a=b.isExtensionHidden?null:(a=b.selectedAddress)==null?void 0:a.id;return{selectedMailingAddressID:a,editedAddressCounter:b.editedAddressCounter}};d.getUserFacingError=function(){return this.getState().extensionUserFacingError};d.getPartialCheckoutRestoreData=function(){var a,b=this.getData();return a={},a[i.MAILING_ADDRESS_SELECTED_ID]=b.selectedMailingAddressID,a};d.maybeRestoreFromQueryData=function(a,b){b=b[i.MAILING_ADDRESS_SELECTED_ID];return b?a.setSelectedMailingAddress(b):a};d.needsPrePaymentVerification=function(){return!1};d.hasMailingAddresses=function(){return this.getState().mailingAddresses.size>0};d.shouldCollectAddressUpfront=function(){var a=this.getState();return!a.isExtensionHidden&&!this.hasMailingAddresses()};return c}(b("FBPaymentsCheckoutExtensionStore"));e.exports=a}),null);
__d("FBPaymentsRoundImageItemSummaryViewBase.react",["cx","FBPaymentsItemSummaryViewBase.react","React","abstractMethod","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getItemSummaryView=function(){return b("abstractMethod")("FBPaymentsRoundImageItemSummaryViewBase","__getItemSummaryView")};d.__getImageClassName=function(){return b("joinClasses")(this.props.imageClassName,"_4udv _2yoy")};d.render=function(){var a=this.__getItemSummaryView();return h.jsx(a,babelHelpers["extends"]({},this.props,{imageClassName:this.__getImageClassName()}))};return c}(h.PureComponent);a.defaultProps={imagePosition:"left",summaryAlignv:"middle",hasPadding:!0};e.exports=a}),null);
__d("FBPaymentsPriceTableViewV2Base.react",["cx","fbt","invariant","FBPaymentsLoggerConstants","FBPaymentsPriceListHelper","PECurrency","PECurrency.react","React","ShimButton.react","abstractMethod"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("PECurrency").DEFAULT_AMOUNT_OFFSET,k=b("React"),l=b("FBPaymentsLoggerConstants").LoggerFlowStep,m=b("FBPaymentsLoggerConstants").LoggerEvent;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isCollapsed:c.props.isCollapsed||!1},c.$1=function(){c.props.logger&&c.props.logger.setFlowStep(l.PRICE_TABLE).setEventName(m.CLICK).updateExtraData({status:c.state.isCollapsed?"expanded":"collapsed"}).log(),c.setState(function(a){return{isCollapsed:!a.isCollapsed}})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$2=function(a,c){return k.jsx(b("PECurrency.react"),{code:c,value:j*a})};d.$3=function(a,c,d,e){c=b("FBPaymentsPriceListHelper").calculateTotal(c);var f=c.currency;f||i(0,4098);c=c.amount;return this.__renderItem(0,a,null,this.$2(c,f),!d,e)};d.$4=function(a){var b=[];for(var c=0;c<a.length;c++)b.push(this.$5(c,a[c]));return b};d.$5=function(a,b){var c=b.item,d=b.label,e=b.price,f=b.priceList,g=b.userFacingReason;b=b.zeroAmountReason;if(e){var h=e.amount;e=e.currency;return this.__renderItem(a,d,c,b||this.$2(Number(h),e),!1)}else if(g)return this.__renderItem(a,d,c,g,!1);else if(f){b=this.$4(f);h=this.$3(d,f,!0);h&&(h=k.jsxs("div",{children:[k.jsx("div",{className:this.__getBorderBottomClassName()}),k.jsx("div",{className:"_2pie",children:h})]}));return k.jsxs("div",{children:[b,h]},d)}else throw new Error("PriceItem format error")};d.__renderItem=function(a,c,d,e,f,g){return b("abstractMethod")("FBPaymentsPriceTableViewV2Base","__renderItem")};d.__getBorderBottomClassName=function(){return b("abstractMethod")("FBPaymentsPriceTableViewV2Base","__getBorderBottomClassName")};d.__renderTaxDisclaimer=function(a,c){return b("abstractMethod")("FBPaymentsPriceTableViewBase","__renderTaxDisclaimer")};d.$6=function(a){var b=this,c=[];a.priceSubtables.map(function(a,d){c.push(b.$7(d,a))});return c};d.$7=function(a,b){var c=this,d=[];b.priceLists.map(function(a,b){d.push(c.__renderItem(b,a.label,a.item,a.displayPrice,!1))});return k.jsx("div",{className:"_2pie",children:d},a)};d.$8=function(a){return this.__renderItem(0,a.totalPrice.label,null,a.totalPrice.displayPrice,!0)};d.getToggleText=function(){return this.state.isCollapsed?this.getDetailsText():this.getHideText()};d.getDetailsText=function(){return h._("(Show Details)")};d.getHideText=function(){return h._("(Hide Details)")};d.render=function(){var a;if(this.props.hidePriceTable)return null;var c=this.props.priceList;if(this.props.showTotalOnly)return this.$3(this.props.customTotalLabel?this.props.customTotalLabel:h._("Total"),c,!1,!0);var d=this.props.newPriceTable?this.$6(this.props.newPriceTable):this.$4(c);c=this.props.hideTotal?null:this.props.newPriceTable?this.$8(this.props.newPriceTable):this.$3(h._("Total"),c,!1);a=(((a=this.props.newPriceTable)==null?void 0:a.showTaxDisclaimer)||this.props.showTaxDisclaimer)&&!this.props.isCalculating?this.__renderTaxDisclaimer(h._("plus tax"),h._("See your receipt for the total amount after tax.")):null;return this.state.isCollapsed?k.jsxs(k.Fragment,{children:[k.jsx(b("ShimButton.react"),{onClick:this.$1,children:c}),a]}):k.jsxs("div",{children:[d,k.jsx(b("ShimButton.react"),{onClick:this.$1,children:c}),a]})};return c}(k.Component);e.exports=a}),null);
__d("FBPayStrings",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Checkout");b=g._("Facebook Pay");e.exports={CHECKOUT:a,FACEBOOK_PAY:b}}),null);
__d("FBPaymentsCountryCodes",["CountryCodes","keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")(b("CountryCodes"))}),null);
__d("FBPaymentsModulesFlowType",[],(function(a,b,c,d,e,f){"use strict";a={CART:"cart",CHECKOUT:"checkout",INVOICE:"invoice",RECEIPT:"receipt",INVOICE_EDIT:"invoice_edit",ORDER_DETAILS:"orderdetails"};e.exports=a}),null);
__d("FBPaymentsContactSupportActions",["FBPaymentsDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g={types:b("keyMirror")({BACK_BUTTON_CLICK:null,DONE_BUTTON_CLICK:null,FORM_DATA_CHANGE:null,SUBMIT_SUPPORT_FORM:null,SUPPORT_FORM_SUBMIT_ERROR:null,SUPPORT_FORM_SUBMIT_SUCCESS:null}),formDataChange:function(a){b("FBPaymentsDispatcher").dispatch({type:g.types.FORM_DATA_CHANGE,data:a})},submitSupportForm:function(){b("FBPaymentsDispatcher").dispatch({type:g.types.SUBMIT_SUPPORT_FORM,data:{}})},supportFormSubmitSuccess:function(a){b("FBPaymentsDispatcher").dispatch({type:g.types.SUPPORT_FORM_SUBMIT_SUCCESS,data:a})},supportFormSubmitError:function(a){b("FBPaymentsDispatcher").dispatch({type:g.types.SUPPORT_FORM_SUBMIT_ERROR,data:a})},backButtonClick:function(){b("FBPaymentsDispatcher").dispatch({type:g.types.BACK_BUTTON_CLICK,data:{}})},doneButtonClick:function(){b("FBPaymentsDispatcher").dispatch({type:g.types.DONE_BUTTON_CLICK,data:{}})}};e.exports=g}),null);
__d("FBPaymentsContactSupportConstants",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a={Screens:b("keyMirror")({SUPPORT_FORM:null,CONFIRMATION:null})};e.exports=a}),null);
__d("FBPaymentsContactSupportStoreState",["FBPaymentsContactSupportConstants","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsContactSupportConstants").Screens;a={error:null,formData:null,isFormValid:!1,isLoading:!1,screen:g.SUPPORT_FORM,screenConfig:null};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.reset=function(){return this.$FBPaymentsContactSupportStoreState1().set("formData",{}).set("isFormValid",!1).set("isLoading",!1).clearError()};c.clearError=function(){return this.set("error",null)};c.$FBPaymentsContactSupportStoreState1=function(){return this.set("screen",g.SUPPORT_FORM).set("screenConfig",null)};return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FBPaymentsContactSupportStore",["FBPaymentsContactSupportActions","FBPaymentsContactSupportConstants","FBPaymentsContactSupportStoreState","FBPaymentsDispatcher","FluxReduceStore"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsContactSupportConstants").Screens;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("FBPaymentsContactSupportStoreState"))()};d.reduce=function(a,c){var d=c.data;switch(c.type){case b("FBPaymentsContactSupportActions").types.FORM_DATA_CHANGE:return a.set("formData",d.formData).set("isFormValid",d.isFormValid);case b("FBPaymentsContactSupportActions").types.SUBMIT_SUPPORT_FORM:return a.set("isLoading",!0);case b("FBPaymentsContactSupportActions").types.SUPPORT_FORM_SUBMIT_SUCCESS:return a.set("screen",g.CONFIRMATION).set("isLoading",!1).set("screenConfig",d.screenConfig);case b("FBPaymentsContactSupportActions").types.SUPPORT_FORM_SUBMIT_ERROR:return a.set("isLoading",!1).set("error",d);case b("FBPaymentsContactSupportActions").types.BACK_BUTTON_CLICK:case b("FBPaymentsContactSupportActions").types.DONE_BUTTON_CLICK:return a.reset();default:return a}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("FBPaymentsDispatcher"))}),null);
__d("FBPaymentsContactSupport.react",["invariant","FBPaymentsContactSupportActions","FBPaymentsContactSupportConstants","FBPaymentsContactSupportStore","FBPaymentsDispatcher","FBPaymentsLoggerConstants","FBPaymentsModulesAPIShared","FBPaymentsUniversalErrorUtils","FluxContainer","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("FBPaymentsContactSupportConstants").Screens,j=b("FBPaymentsLoggerConstants").LoggerFlowStep,k=b("FBPaymentsLoggerConstants").LoggerEvent;function a(a,c){var d=function(e){babelHelpers.inheritsLoose(d,e);var f=d.prototype;f.componentDidMount=function(){this.props.logger.setFlowStep(j.CONTACT_SUPPORT).setEventName(k.DISPLAY).addToExtraData("error_flow_step",this.props.extraInfo.flowStep).log()};function d(a){var c;c=e.call(this,a)||this;c.state={error:null,formData:null,isFormValid:!1,isLoading:!1,screen:i.SUPPORT_FORM,screenConfig:null};c.$1=function(){c.props.logger.setFlowStep(j.CONTACT_SUPPORT).setEventName(k.DONE).addToExtraData("extra_info",JSON.stringify(c.props.extraInfo)).log(),b("FBPaymentsContactSupportActions").doneButtonClick(),c.props.onClose&&c.props.onClose()};c.$2=function(){c.props.logger.setFlowStep(j.CONTACT_SUPPORT).setEventName(k.BACK_CLICK).addToExtraData("extra_info",JSON.stringify(c.props.extraInfo)).log(),b("FBPaymentsContactSupportActions").backButtonClick(),c.props.onBackClick&&c.props.onBackClick()};c.$3=function(){var a=c.props.extraInfo,d=a.errorCode;a=a.flowStep;c.props.logger.setFlowStep(j.CONTACT_SUPPORT).setEventName(k.CLICK).addToExtraData("contact_support_error_code",d.toString()).addToExtraData("error_flow_step",a).log();b("FBPaymentsContactSupportActions").submitSupportForm();var e=c.state.formData;e!=null&&e!==""||g(0,3959);c.props.logger.setFlowStep(j.CONTACT_SUPPORT).setEventName(k.API_INIT).addToExtraData("contact_support_error_code",d.toString()).addToExtraData("error_flow_step",a).log();b("FBPaymentsModulesAPIShared").createPaymentsSRTJob(e,c.props.extraInfo,c.props.logger.getSessionID(),c.$4,c.$5)};c.$4=function(a,d){c.props.logger.setFlowStep(j.CONTACT_SUPPORT).setEventName(k.SUCCESS).addToExtraData("error_flow_step",c.props.extraInfo.flowStep).addToExtraData("srt_job_id",a).log(),b("FBPaymentsContactSupportActions").supportFormSubmitSuccess({screenConfig:d})};c.$5=function(a){var d=b("FBPaymentsUniversalErrorUtils").getErrorCode(a),e=b("FBPaymentsUniversalErrorUtils").getUserFacingErrorMessage(a),f=b("FBPaymentsUniversalErrorUtils").getServerErrorMessage(a);c.props.logger.setFlowStep(j.CONTACT_SUPPORT).setEventName(k.FAIL).setUserFacingMessage(e).setErrorMessage(f).setUserFacingErrorCode(d).setErrorCode(d).addToExtraData("error_flow_step",c.props.extraInfo.flowStep).log();b("FBPaymentsContactSupportActions").supportFormSubmitError(a)};b("FBPaymentsDispatcher").explicitlyRegisterStores(c.constructor.getStores());return c}d.getStores=function(){return[b("FBPaymentsContactSupportStore")]};d.calculateState=function(a){a=b("FBPaymentsContactSupportStore").getState();a={error:a.error,formData:a.formData,isFormValid:a.isFormValid,isLoading:a.isLoading,screen:a.screen,screenConfig:a.screenConfig};return a};f.handleFormDataChange=function(a){b("FBPaymentsContactSupportActions").formDataChange({formData:a,isFormValid:!!a})};f.render=function(){var b=this.state.screen,d;if(b){b=c.getScreen(b);d=h.jsx(b,{error:this.state.error,isFormValid:this.state.isFormValid,isLoading:this.state.isLoading,onBackClick:this.$2,onDoneClick:this.$1,onSubmitClick:this.$3,onFormDataChange:this.handleFormDataChange,screenConfig:this.state.screenConfig})}return h.jsx(a,{screen:d})};return d}(h.PureComponent);return b("FluxContainer").create(d)}e.exports={create:a}}),null);
__d("FBPaymentsContactSupportScreenManagerBase",["FBPaymentsContactSupportConstants","abstractMethod"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsContactSupportConstants").Screens;a=function(){function a(){this.screenMap=new Map(),this.__createScreenMap()}var c=a.prototype;c.getScreen=function(a){if(!g[a])throw Error("Non-existent contact support screen "+a);var b=this.screenMap.get(a);if(!b)throw Error("Unimplemented contact support screen "+a);return b};c.__createScreenMap=function(){return b("abstractMethod")("FBPaymentsContactSupportScreenManagerBase","__createScreenMap")};return a}();e.exports=a}),null);
__d("FBPaymentsContactSupportHelper",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={getSupportFormLabel:function(){return g._("Try to give our support team a better understanding of what went wrong.")},getSupportFormPlaceholder:function(){return g._("Please describe your issue")},getCancelButtonText:function(){return g._("Cancel")},getSubmitButtonText:function(){return g._("Send")},getDoneButtonText:function(){return g._("OK")},getSupportFormScreenTitle:function(){return g._("Contact Support")},getSubmissionErrorTitle:function(){return g._("Your message failed to send")},getSubmissionErrorDescription:function(){return g._("Please try again")}};e.exports=a}),null);
__d("FBPaymentsVerificationFlowHelper",[],(function(a,b,c,d,e,f){"use strict";a={getVerificationFlowPaymentType:function(a){switch(a){case"mor_p2p_transfer":return"mor_p2p_transfer";case"mor_donations":return"mor_donations";case"mor_donations_matching_confirmation":return"mor_donations_matching_confirmation";case"mor_donations_cause_for_charities":return"mor_donations_cause_for_charities";case"nmor_donation_p4p":return"nmor_donation_p4p";case"nmor_checkout_experiences":return"nmor_checkout_experiences";default:return null}},getVerificationFlowProductType:function(a){switch(a){case"mor_p2p_transfer":return"P2P";case"mor_donations":case"mor_donations_matching_confirmation":case"mor_donations_cause_for_charities":return"P4C";case"nmor_donation_p4p":case"nmor_checkout_experiences":return"MANAGED_STRIPE";default:return null}}};e.exports=a}),null);
__d("FBPaymentsAbstractPSDDataPolicy.react",["cx","FBPayCheckoutWebFunnelLoggingUtils","FBPaymentsCheckoutContext","FBPaymentsLoggerConstants","FBPaymentsModulesAPIShared","Image.react","PaymentsPSDStaticStrings","PaymentsPSDStrings","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FBPayCheckoutWebFunnelLoggingUtils").webFunnelLogFBPayCheckout,i=b("React"),j=b("FBPaymentsLoggerConstants").LoggerFlowStep,k=b("FBPaymentsLoggerConstants").LoggerEvent;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={errorMessage:null,isLoading:!1},d.handleAcceptButtonClick=function(){var a;d.logEvent(k.CLICK);h("psd_agreement_accept_click",d.context.funnelLoggingSessionID);d.setState({errorMessage:null,isLoading:!0});d.logEvent(k.API_INIT);b("FBPaymentsModulesAPIShared").acceptPSDAgreementGraphQL(d.props.paymentType,d.props.psdAgreementID,(a=d.props.logger)==null?void 0:a.getSessionID(),d.handleAcceptAgreementSuccess,d.handleAcceptAgreementError)},d.handleAcceptAgreementSuccess=function(a){d.setState({isLoading:!1}),d.logEvent(k.SUCCESS),d.props.onAccepted()},d.handleAcceptAgreementError=function(a){d.setState({errorMessage:a.message,isLoading:!1}),d.logErrorEvent(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.logEvent(k.DISPLAY),h("psd_agreement_display",this.context.funnelLoggingSessionID)};d.logEvent=function(a){this.props.logger&&this.props.logger.setFlowStep(j.PSD_AGREEMENT).setEventName(a).log()};d.logErrorEvent=function(a){this.props.logger&&this.props.logger.setFlowStep(j.PSD_AGREEMENT).setEventName(k.FAIL).setUserFacingMessage(a.message).setErrorMessage(a.serverErrorMessage).setExceptionClass(a.exceptionClass).log()};d.render=function(){var a=this.props,c=a.buttonRenderer,d=a.errorRenderer,e=a.loadingRenderer,f=a.headerRenderer,g=a.paragraphRenderer;a=a.textWithEntitiesRenderer;var h="_2pi4",j="_2piq",k="_2pim";d=this.state.errorMessage?i.jsx("div",{className:"_2pio",children:d(this.state.errorMessage)}):null;return i.jsxs("div",{className:b("joinClasses")(this.props.className,"_69fu"),children:[i.jsx("div",{children:i.jsx(b("Image.react"),{className:"_69fv",src:b("PaymentsPSDStrings").HEADER_IMAGE_PATH})}),i.jsxs("div",{className:"_2ph_",children:[e(this.state.isLoading),i.jsxs("div",{className:k,children:[i.jsx("div",{className:h,children:f(b("PaymentsPSDStaticStrings").INTRO_PARAGRAPH_TITLE)}),i.jsx("div",{className:j,children:g(b("PaymentsPSDStrings").INTRO_FIRST_PARAGRAPH)})]}),i.jsxs("div",{className:k,children:[i.jsx("div",{className:h,children:f(b("PaymentsPSDStaticStrings").ONLY_WHAT_WE_NEED_TITLE)}),i.jsx("div",{className:j,children:g(b("PaymentsPSDStaticStrings").ONLY_WHAT_WE_NEED_FIRST_PARAGRAPH)}),i.jsx("div",{className:j,children:g(b("PaymentsPSDStaticStrings").ONLY_WHAT_WE_NEED_SECOND_PARAGRAPH)})]}),i.jsxs("div",{className:k,children:[i.jsx("div",{className:h,children:f(b("PaymentsPSDStaticStrings").FOLLOW_GUIDELINES_TITLE)}),i.jsx("div",{className:j,children:g(b("PaymentsPSDStaticStrings").FOLLOW_GUIDELINES_PARAGRAPH)}),i.jsx("div",{className:j,children:g(a(b("PaymentsPSDStrings").ENCRYPTED_AND_SECURE_PARAGRAPH))})]}),i.jsxs("div",{children:[d,this.props.shouldHideButton?null:c(b("PaymentsPSDStaticStrings").ACCEPT_BUTTON_LABEL,this.handleAcceptButtonClick,"psd_agreement_accept_button")]})]})]})};return c}(i.PureComponent);a.contextType=b("FBPaymentsCheckoutContext");e.exports=a}),null);
__d("FBPaymentsComponentWithErrorBoundaryContainer",["FBPaymentsErrorBoundary.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=function(d){babelHelpers.inheritsLoose(c,d);function c(){return d.apply(this,arguments)||this}var e=c.prototype;e.render=function(){return g.jsx(b("FBPaymentsErrorBoundary.react"),{children:g.jsx(a,babelHelpers["extends"]({},this.props))})};return c}(g.PureComponent);return c}e.exports={create:a}}),null);
__d("FBPaymentsModulesErrorConstants",[],(function(a,b,c,d,e,f){"use strict";a={PaymentModulesErrorCode:{IDV_PENDING_MANUAL_REVIEW:2078081,IDV_REQUIRED:2078082,ALT_PAY_FLOW_CANCELLED:2078111}};e.exports=a}),null);
__d("FBPaymentsSubscriptionUtils",["fbt","BillingAgreementType","DateStrings","LocalDate","PECurrency","Timezone"],(function(a,b,c,d,e,f,g){"use strict";var h=b("PECurrency").DEFAULT_AMOUNT_OFFSET;a=b("Timezone").getEnvironmentTimezoneID();var i=b("LocalDate").today(a),j={getSubscriptionTerms:function(a,c){if(!a)return null;var d=a.billDueDate,e=a.price;if(!e||e.amount==="")return null;switch(a.type){case b("BillingAgreementType").MONTHLY:return g._("By clicking {text on an action button}, you're authorizing today's payment along with all recurring payments of {formatted amount} to be processed on the {day of month or last day of month for transaction} of every month until you cancel.",[g._param("text on an action button",c),g._param("formatted amount",b("PECurrency").formatAmount(e.currency,h*Number(e.amount))),g._param("day of month or last day of month for transaction",j.getFormattedDayOfMonth(d))]);case b("BillingAgreementType").YEARLY:return g._("By clicking {text on an action button}, you're authorizing today's payment along with all recurring payments of {formatted amount} to be processed on {formatted date} of every year until you cancel.",[g._param("text on an action button",c),g._param("formatted amount",b("PECurrency").formatAmount(e.currency,h*Number(e.amount))),g._param("formatted date",j.getFormattedDayOfYear(d))]);default:return null}},getSubscriptionTermsMsite:function(a,c){if(!a)return null;var d=a.billDueDate,e=a.price;if(!e)return null;switch(a.type){case b("BillingAgreementType").MONTHLY:return g._("By tapping {text on an action button}, you're authorizing today's payment along with all recurring payments of {formatted amount} to be processed on the {day of month or last day of month for transaction} of every month until you cancel.",[g._param("text on an action button",c),g._param("formatted amount",b("PECurrency").formatAmount(e.currency,h*Number(e.amount))),g._param("day of month or last day of month for transaction",j.getFormattedDayOfMonth(d))]);case b("BillingAgreementType").YEARLY:return g._("By tapping {text on an action button}, you're authorizing today's payment along with all recurring payments of {formatted amount} to be processed on {formatted date} of every year until you cancel.",[g._param("text on an action button",c),g._param("formatted amount",b("PECurrency").formatAmount(e.currency,h*Number(e.amount))),g._param("formatted date",j.getFormattedDayOfYear(d))]);default:return null}},getFormattedDayOfMonth:function(a){a===void 0&&(a=i);a=a.getDayOfMonth();var c=b("DateStrings").getDayOfMonth(a);if(a===31)return g._("last day");else if(a>=29)return g._("{a certain day of every month} or last day",[g._param("a certain day of every month",c)]);else return c},getFormattedDayOfYear:function(a){a===void 0&&(a=i);return a.format("F j")}};e.exports=j}),null);
__d("ZipcodeCollectIndicatorFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REQUIRED:"required",HIDDEN:"hidden",OPTIONAL:"optional"})}),null);
__d("XFBSbxAffirmInitController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/payments/affirmInit/",{checkout_object:{type:"String",required:!0}})}),null);
__d("XPaymentsRazorPayAutheticationLoadingViewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/payments/razorpay/loading/",{})}),null);
__d("XPaymentsRazorPayRedirectController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/payments/razorpay/redirect/",{context_id:{type:"Int"},instance_id:{type:"String"}})}),null);
__d("XPaymentsTransactionHubController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/facebook_pay/{?*subpath}",{session_id:{type:"String"},subpath:{type:"String"},redirect_source:{type:"Enum",enumType:1}})}),null);
__d("XShopPaymentAffirmRedirectController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/payments/affirm/redirect/",{instance_id:{type:"String"},checkout_token:{type:"String"}})}),null);