if (self.CavalryLogger) { CavalryLogger.start_js(["sHA1L"]); }

__d("MessengerRTCRoomIncomingDialog.react",["cx","fbt","Dialog","DOM","EventEmitter","FBRTCSoundController","ImageBlock.react","MercuryIDs","MessengerContactImage.react","MessengerDialog.react","MessengerDialogBodyReact.bs","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogHeaderReact.re","MessengerDialogs.bs","MessengerParticipants.bs","React","ReactDOM","clearTimeout","nullthrows","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("MessengerDialogBodyReact.bs").jsComponent,j=b("MessengerDialogHeaderReact.re").make,k=b("React"),l=400,m=50,n=7e4;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,h,i){var j;j=a.call(this)||this;j.$MessengerRTCRoomIncomingDialog12=function(){j.cancel(),j.emit("ignoreCall",!1)};j.$MessengerRTCRoomIncomingDialog2=c;j.$MessengerRTCRoomIncomingDialog3=d;j.$MessengerRTCRoomIncomingDialog4=e;j.$MessengerRTCRoomIncomingDialog5=f;j.$MessengerRTCRoomIncomingDialog6=g;j.$MessengerRTCRoomIncomingDialog7=h;j.$MessengerRTCRoomIncomingDialog9=b("nullthrows")(i);j.$MessengerRTCRoomIncomingDialog1=b("DOM").create("div");j.$MessengerRTCRoomIncomingDialog8=null;return j}c.getHangUpReasonForNewRequest=function(){return null};var d=c.prototype;d.serverInfoData=function(){return this.$MessengerRTCRoomIncomingDialog7};d.showIncomingDialog=function(){var a=this,c=b("Dialog").getCurrent();c&&c.hide();this.$MessengerRTCRoomIncomingDialog8=b("setTimeoutAcrossTransitions")(this.$MessengerRTCRoomIncomingDialog10.bind(this),n);b("FBRTCSoundController").playIncomingRingtone(this.$MessengerRTCRoomIncomingDialog3,this.$MessengerRTCRoomIncomingDialog2,{loop:!0,isP2P:!1});b("MessengerParticipants.bs").get(b("MercuryIDs").getParticipantIDFromUserID(this.$MessengerRTCRoomIncomingDialog4),function(c){c=k.jsxs(b("MessengerDialog.react"),{layerHideOnBlur:!1,shown:!0,onToggle:function(b){return a.$MessengerRTCRoomIncomingDialog11(b,a.$MessengerRTCRoomIncomingDialog12)},width:l,children:[k.jsx(j,{autofocus:!0,children:h._("Incoming Room Call")}),k.jsx(i,{children:k.jsxs(b("ImageBlock.react"),{children:[k.jsx(b("MessengerContactImage.react"),{isMessengerUser:c.is_messenger_user,size:m,src:(c==null?void 0:c.big_image_src)||c.image_src}),k.jsxs("div",{className:"_2n1r",children:[k.jsx("div",{className:"_2n1s",children:h._("{caller name} wants to join {room name}",[h._param("caller name",c.name),h._param("room name",a.$MessengerRTCRoomIncomingDialog9)])}),k.jsx("div",{className:"_2n1t",children:h._("Your video will be shared as soon as you answer")})]})]})}),k.jsxs(b("MessengerDialogFooter.react"),{children:[k.jsx(b("MessengerDialogButton.react"),{label:h._("Decline"),onClick:function(){b("MessengerDialogs.bs").removeAllDialogs(),a.$MessengerRTCRoomIncomingDialog12()},dataTestID:"ignoreCallButton",type:"secondary",use:"default"}),k.jsx(b("MessengerDialogButton.react"),{label:h._("Accept"),onClick:function(){b("MessengerDialogs.bs").removeAllDialogs(),a.$MessengerRTCRoomIncomingDialog13()},dataTestID:"answerCallButton",type:"primary",use:"default"})]})]});b("ReactDOM").render(c,a.$MessengerRTCRoomIncomingDialog1)})};d.cancel=function(){this.$MessengerRTCRoomIncomingDialog8&&b("clearTimeout")(this.$MessengerRTCRoomIncomingDialog8),b("ReactDOM").unmountComponentAtNode(this.$MessengerRTCRoomIncomingDialog1),b("FBRTCSoundController").stopIncomingRingtone()};d.$MessengerRTCRoomIncomingDialog13=function(){this.cancel(),this.emit("answerCall",this.$MessengerRTCRoomIncomingDialog2,this.$MessengerRTCRoomIncomingDialog6)};d.$MessengerRTCRoomIncomingDialog10=function(){this.cancel(),this.emit("timeout",!1)};d.$MessengerRTCRoomIncomingDialog11=function(a,c){a||(b("MessengerDialogs.bs").removeAllDialogs(),c())};return c}(b("EventEmitter"));e.exports=a}),null);
__d("FBRTCRoomIncomingCallController",["EventEmitter","MessengerRTCRoomIncomingDialog.react","StartVideoChatLinkCall","VideoChatLinksUserActionsMultiplexLogger"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,h,i){var j;j=a.call(this)||this;j.$FBRTCRoomIncomingCallController2=i;j.$FBRTCRoomIncomingCallController1=new(b("MessengerRTCRoomIncomingDialog.react"))(c,d,e,f,!0,g,h);j.$FBRTCRoomIncomingCallController1.addListener("answerCall",function(){j.cancel(),j.$FBRTCRoomIncomingCallController3()});j.$FBRTCRoomIncomingCallController1.addListener("ignoreCall",function(){j.cancel(),j.emit("ignoreCall",!1)});j.$FBRTCRoomIncomingCallController1.addListener("timeout",function(){j.cancel(),j.emit("timeout",!1)});return j}var d=c.prototype;d.showIncomingDialog=function(a){this.$FBRTCRoomIncomingCallController1.showIncomingDialog()};d.cancel=function(){this.$FBRTCRoomIncomingCallController1.cancel()};d.$FBRTCRoomIncomingCallController3=function(){new(b("VideoChatLinksUserActionsMultiplexLogger"))().setSurface("vcl_meetups_notification").setEvent("meetup_notification_clicked").setVideoCallLinkHashRaw(this.$FBRTCRoomIncomingCallController2).log(),b("StartVideoChatLinkCall").startCall(this.$FBRTCRoomIncomingCallController2)};return c}(b("EventEmitter"));e.exports=a}),null);
__d("FBRTCGroupCallIncomingDialog",["Dialog","DOM","EventEmitter","FBRTCSoundController","MercuryIDs","MessengerRTCGroupCallIncomingDialog.react","React","ReactDOM","RTCUtils","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=7e4;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,h,i){var j;j=a.call(this)||this;j.$FBRTCGroupCallIncomingDialog10=function(){j.cancel(),j.emit("answerCall",j.$FBRTCGroupCallIncomingDialog2,j.$FBRTCGroupCallIncomingDialog6)};j.$FBRTCGroupCallIncomingDialog11=function(){j.cancel(),j.emit("ignoreCall",!1)};j.$FBRTCGroupCallIncomingDialog2=c;j.$FBRTCGroupCallIncomingDialog3=d;j.$FBRTCGroupCallIncomingDialog4=e;j.$FBRTCGroupCallIncomingDialog5=f;j.$FBRTCGroupCallIncomingDialog6=g;j.$FBRTCGroupCallIncomingDialog7=h;j.$FBRTCGroupCallIncomingDialog1=b("DOM").create("div");j.$FBRTCGroupCallIncomingDialog8=null;return j}c.getHangUpReasonForNewRequest=function(){return null};var d=c.prototype;d.serverInfoData=function(){return this.$FBRTCGroupCallIncomingDialog7};d.showIncomingDialog=function(){var a=b("Dialog").getCurrent();a&&a.hide();this.$FBRTCGroupCallIncomingDialog8=b("setTimeoutAcrossTransitions")(this.$FBRTCGroupCallIncomingDialog9.bind(this),h);b("FBRTCSoundController").playIncomingRingtone(this.$FBRTCGroupCallIncomingDialog3,this.$FBRTCGroupCallIncomingDialog2,{loop:!0,isP2P:!1});a=[this.$FBRTCGroupCallIncomingDialog4].concat(this.$FBRTCGroupCallIncomingDialog5);a=g.jsx(b("MessengerRTCGroupCallIncomingDialog.react"),{callerID:b("MercuryIDs").getParticipantIDFromUserID(this.$FBRTCGroupCallIncomingDialog4),callID:this.$FBRTCGroupCallIncomingDialog3.toString(),conferenceName:this.$FBRTCGroupCallIncomingDialog2,hasVideo:this.$FBRTCGroupCallIncomingDialog6,isGroupCall:b("RTCUtils").isGroupCall(this.$FBRTCGroupCallIncomingDialog2),onAnswer:this.$FBRTCGroupCallIncomingDialog10,onIgnore:this.$FBRTCGroupCallIncomingDialog11,participantIDs:a});b("ReactDOM").render(a,this.$FBRTCGroupCallIncomingDialog1)};d.cancel=function(){this.$FBRTCGroupCallIncomingDialog8&&b("clearTimeout")(this.$FBRTCGroupCallIncomingDialog8),b("ReactDOM").unmountComponentAtNode(this.$FBRTCGroupCallIncomingDialog1),b("FBRTCSoundController").stopIncomingRingtone()};d.$FBRTCGroupCallIncomingDialog9=function(){this.cancel(),this.emit("timeout",!1)};return c}(b("EventEmitter"));e.exports=a}),null);